<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.60">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/images/icon.png"><title>脚本常见问题 | 迷你开发者工具箱</title><meta name="description" content="为迷你世界开发者而生的一款工具箱APP">
    <link rel="preload" href="/assets/style-e906656b.css" as="style"><link rel="stylesheet" href="/assets/style-e906656b.css">
    <link rel="modulepreload" href="/assets/app-753b6809.js"><link rel="modulepreload" href="/assets/framework-96b046e1.js"><link rel="modulepreload" href="/assets/questions.html-6edc5ce9.js"><link rel="modulepreload" href="/assets/questions.html-c090e498.js"><link rel="prefetch" href="/assets/index.html-09bc3a2a.js" as="script"><link rel="prefetch" href="/assets/changelog.html-d1d12cd7.js" as="script"><link rel="prefetch" href="/assets/questions.html-af1ed138.js" as="script"><link rel="prefetch" href="/assets/quickstart.html-07f0234a.js" as="script"><link rel="prefetch" href="/assets/event.html-26b04d74.js" as="script"><link rel="prefetch" href="/assets/game.html-8a985aef.js" as="script"><link rel="prefetch" href="/assets/global.html-d308001a.js" as="script"><link rel="prefetch" href="/assets/index.html-7c127441.js" as="script"><link rel="prefetch" href="/assets/world.html-73b363e7.js" as="script"><link rel="prefetch" href="/assets/contents.html-cdbf0047.js" as="script"><link rel="prefetch" href="/assets/AdventureGuide.html-bc5aa482.js" as="script"><link rel="prefetch" href="/assets/GameBugs.html-225e44ae.js" as="script"><link rel="prefetch" href="/assets/GameCrossService.html-77b7c333.js" as="script"><link rel="prefetch" href="/assets/ChineseChess.html-4bcd860e.js" as="script"><link rel="prefetch" href="/assets/APIMiningAssistant.html-b5ccd696.js" as="script"><link rel="prefetch" href="/assets/EncapsulatedAPI.html-1ee4b8c7.js" as="script"><link rel="prefetch" href="/assets/FileDec.html-90d1137c.js" as="script"><link rel="prefetch" href="/assets/UsefulScript.html-027eb65d.js" as="script"><link rel="prefetch" href="/assets/itemJson.html-d2c37b43.js" as="script"><link rel="prefetch" href="/assets/AnimationScript.html-0b583a56.js" as="script"><link rel="prefetch" href="/assets/FlopDraw.html-e7b187b6.js" as="script"><link rel="prefetch" href="/assets/20220703.html-dd254c6f.js" as="script"><link rel="prefetch" href="/assets/20220704.html-0a063668.js" as="script"><link rel="prefetch" href="/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/assets/index.html-d44c9194.js" as="script"><link rel="prefetch" href="/assets/changelog.html-248a8dfd.js" as="script"><link rel="prefetch" href="/assets/questions.html-05074018.js" as="script"><link rel="prefetch" href="/assets/quickstart.html-adb41eec.js" as="script"><link rel="prefetch" href="/assets/event.html-9b6d92da.js" as="script"><link rel="prefetch" href="/assets/game.html-1ba0b326.js" as="script"><link rel="prefetch" href="/assets/global.html-25d7ee1d.js" as="script"><link rel="prefetch" href="/assets/index.html-c626f51e.js" as="script"><link rel="prefetch" href="/assets/world.html-3981be2f.js" as="script"><link rel="prefetch" href="/assets/contents.html-d4ee855a.js" as="script"><link rel="prefetch" href="/assets/AdventureGuide.html-117c5753.js" as="script"><link rel="prefetch" href="/assets/GameBugs.html-df57762b.js" as="script"><link rel="prefetch" href="/assets/GameCrossService.html-e40fe13d.js" as="script"><link rel="prefetch" href="/assets/ChineseChess.html-9d74d0e2.js" as="script"><link rel="prefetch" href="/assets/APIMiningAssistant.html-07e65f69.js" as="script"><link rel="prefetch" href="/assets/EncapsulatedAPI.html-d737a396.js" as="script"><link rel="prefetch" href="/assets/FileDec.html-416b2ac7.js" as="script"><link rel="prefetch" href="/assets/UsefulScript.html-7983e91b.js" as="script"><link rel="prefetch" href="/assets/itemJson.html-f2eecd92.js" as="script"><link rel="prefetch" href="/assets/AnimationScript.html-092955a0.js" as="script"><link rel="prefetch" href="/assets/FlopDraw.html-30a18ad7.js" as="script"><link rel="prefetch" href="/assets/20220703.html-c74ba3e9.js" as="script"><link rel="prefetch" href="/assets/20220704.html-44714a66.js" as="script"><link rel="prefetch" href="/assets/404.html-46166703.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/images/hero.png" alt="迷你开发者工具箱"><span class="site-name can-hide">迷你开发者工具箱</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/docs/help/quickstart.md" class="" aria-label="使用帮助"><!--[--><!--]--> 使用帮助 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/docs/development/contents.md" class="" aria-label="开发教程"><!--[--><!--]--> 开发教程 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://support.qq.com/products/405243" rel="noopener noreferrer" target="_blank" aria-label="问题反馈"><!--[--><!--]--> 问题反馈 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="友情链接"><span class="title">友情链接</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="友情链接"><span class="title">友情链接</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://dev-wiki.mini1.cn" rel="noopener noreferrer" target="_blank" aria-label="开发者学院"><!--[--><!--]--> 开发者学院 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://ustarry.github.io" rel="noopener noreferrer" target="_blank" aria-label="星光工作室"><!--[--><!--]--> 星光工作室 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/minitoolbox/minitoolbox.github.io" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/docs/help/quickstart.md" class="" aria-label="使用帮助"><!--[--><!--]--> 使用帮助 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/docs/development/contents.md" class="" aria-label="开发教程"><!--[--><!--]--> 开发教程 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://support.qq.com/products/405243" rel="noopener noreferrer" target="_blank" aria-label="问题反馈"><!--[--><!--]--> 问题反馈 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="友情链接"><span class="title">友情链接</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="友情链接"><span class="title">友情链接</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://dev-wiki.mini1.cn" rel="noopener noreferrer" target="_blank" aria-label="开发者学院"><!--[--><!--]--> 开发者学院 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://ustarry.github.io" rel="noopener noreferrer" target="_blank" aria-label="星光工作室"><!--[--><!--]--> 星光工作室 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/minitoolbox/minitoolbox.github.io" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">脚本常见问题 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/docs/API/questions.html#_1-block中的data在什么地方使用" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.Block中的data在什么地方使用"><!--[--><!--]--> 1.Block中的data在什么地方使用 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_2-自定义的block和item应该如何获取id-或-data-用于-setblock、spawnitem-等" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.自定义的Block和Item应该如何获取ID (或 data?)(用于 setBlock、spawnItem 等)"><!--[--><!--]--> 2.自定义的Block和Item应该如何获取ID (或 data?)(用于 setBlock、spawnItem 等) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_3-如何创建线程" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.如何创建线程"><!--[--><!--]--> 3.如何创建线程 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_4-block-接口中的-setblockallfornotify-setblockallforupdate-方法的参数-flag-需要更多信息" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.Block 接口中的 setBlockAllForNotify/setBlockAllForUpdate 方法的参数 flag 需要更多信息"><!--[--><!--]--> 4.Block 接口中的 setBlockAllForNotify/setBlockAllForUpdate 方法的参数 flag 需要更多信息 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_5-objectlib-方法里的-uuid-该如何获取" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.ObjectLib 方法里的 uuid 该如何获取"><!--[--><!--]--> 5.ObjectLib 方法里的 uuid 该如何获取 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_6-world-playsoundeffectonpos-方法的-soundid-参数需要更多信息" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.World:playSoundEffectOnPos 方法的 soundId 参数需要更多信息"><!--[--><!--]--> 6.World:playSoundEffectOnPos 方法的 soundId 参数需要更多信息 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_7-world-类中可否提供一个获取有所有-actor-的方法-或者历遍其的方法-非-world-getactorsbybox" class="router-link-active router-link-exact-active sidebar-item" aria-label="7.World 类中可否提供一个获取有所有 Actor 的方法，或者历遍其的方法 (非 World:getActorsByBox)"><!--[--><!--]--> 7.World 类中可否提供一个获取有所有 Actor 的方法，或者历遍其的方法 (非 World:getActorsByBox) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_8-event-需要更详细的用法及参数解释" class="router-link-active router-link-exact-active sidebar-item" aria-label="8.Event 需要更详细的用法及参数解释"><!--[--><!--]--> 8.Event 需要更详细的用法及参数解释 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_9-ui-接口中的-setgbattleui-setshapeline-setshapecircle-方法的参数-name-及-uiname-需要更多信息" class="router-link-active router-link-exact-active sidebar-item" aria-label="9.UI 接口中的 setGBattleUI/setShapeLine/setShapeCircle 方法的参数 name 及 uiname 需要更多信息"><!--[--><!--]--> 9.UI 接口中的 setGBattleUI/setShapeLine/setShapeCircle 方法的参数 name 及 uiname 需要更多信息 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_10-ui-showscreeneffect-方法的-type-需要更多信息" class="router-link-active router-link-exact-active sidebar-item" aria-label="10.UI:ShowScreenEffect 方法的 type 需要更多信息"><!--[--><!--]--> 10.UI:ShowScreenEffect 方法的 type 需要更多信息 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_11-game-addrenderglobaleffect-方法的-path-参数需要更多信息" class="router-link-active router-link-exact-active sidebar-item" aria-label="11.Game:addRenderGlobalEffect 方法的 path 参数需要更多信息"><!--[--><!--]--> 11.Game:addRenderGlobalEffect 方法的 path 参数需要更多信息 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_12-game-getdefstring-方法的-id-需要更多信息" class="router-link-active router-link-exact-active sidebar-item" aria-label="12.Game:getDefString 方法的 id 需要更多信息"><!--[--><!--]--> 12.Game:getDefString 方法的 id 需要更多信息 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_13-player-setactionattrstate-方法的-actionattr-参数需要更多信息" class="router-link-active router-link-exact-active sidebar-item" aria-label="13.Player:setActionAttrState 方法的 actionattr 参数需要更多信息"><!--[--><!--]--> 13.Player:setActionAttrState 方法的 actionattr 参数需要更多信息 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_14-team-接口中的-teamid-参数需要更多信息" class="router-link-active router-link-exact-active sidebar-item" aria-label="14.Team 接口中的 teamid 参数需要更多信息"><!--[--><!--]--> 14.Team 接口中的 teamid 参数需要更多信息 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_15-appendspeed-接口中的x-y-z参数信息" class="router-link-active router-link-exact-active sidebar-item" aria-label="15.appendSpeed 接口中的x,y,z参数信息"><!--[--><!--]--> 15.appendSpeed 接口中的x,y,z参数信息 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_16-getblockpowerstatus-接口中的pos的使用方法" class="router-link-active router-link-exact-active sidebar-item" aria-label="16.getBlockPowerStatus 接口中的pos的使用方法"><!--[--><!--]--> 16.getBlockPowerStatus 接口中的pos的使用方法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_17-ui接口为什么没有效果" class="router-link-active router-link-exact-active sidebar-item" aria-label="17.UI接口为什么没有效果？"><!--[--><!--]--> 17.UI接口为什么没有效果？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_18-如何让游戏开始5秒后-每隔5秒生成一批生物" class="router-link-active router-link-exact-active sidebar-item" aria-label="18.如何让游戏开始5秒后，每隔5秒生成一批生物？"><!--[--><!--]--> 18.如何让游戏开始5秒后，每隔5秒生成一批生物？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_19-游戏坐标-x-y-z-分别指什么" class="router-link-active router-link-exact-active sidebar-item" aria-label="19.游戏坐标(x,y,z)分别指什么？"><!--[--><!--]--> 19.游戏坐标(x,y,z)分别指什么？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_20-如何查看某个方块的坐标" class="router-link-active router-link-exact-active sidebar-item" aria-label="20.如何查看某个方块的坐标？"><!--[--><!--]--> 20.如何查看某个方块的坐标？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_21-输出的聊天框消息为什么会是星号" class="router-link-active router-link-exact-active sidebar-item" aria-label="21.输出的聊天框消息为什么会是星号(*)？"><!--[--><!--]--> 21.输出的聊天框消息为什么会是星号(*)？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_22-可以自定义npc的ai吗" class="router-link-active router-link-exact-active sidebar-item" aria-label="22.可以自定义NPC的AI吗？"><!--[--><!--]--> 22.可以自定义NPC的AI吗？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_23-为什么生成方块接口那么卡" class="router-link-active router-link-exact-active sidebar-item" aria-label="23.为什么生成方块接口那么卡？"><!--[--><!--]--> 23.为什么生成方块接口那么卡？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_24-如何修改玩家的血量和饱食度-或者跳跃高度、移动速度等属性" class="router-link-active router-link-exact-active sidebar-item" aria-label="24.如何修改玩家的血量和饱食度？或者跳跃高度、移动速度等属性？"><!--[--><!--]--> 24.如何修改玩家的血量和饱食度？或者跳跃高度、移动速度等属性？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_25-如何不允许玩家放置某种特定方块" class="router-link-active router-link-exact-active sidebar-item" aria-label="25.如何不允许玩家放置某种特定方块？"><!--[--><!--]--> 25.如何不允许玩家放置某种特定方块？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_26-为什么我用脚本生成的生物-离一定距离的话-隔段时间就消失了" class="router-link-active router-link-exact-active sidebar-item" aria-label="26.为什么我用脚本生成的生物，离一定距离的话，隔段时间就消失了？"><!--[--><!--]--> 26.为什么我用脚本生成的生物，离一定距离的话，隔段时间就消失了？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_27-如何在游戏开始30秒后-从-0-7-0-到-15-10-15-范围内随机生成一些生物" class="router-link-active router-link-exact-active sidebar-item" aria-label="27.如何在游戏开始30秒后，从(0,7,0)到(15,10,15)范围内随机生成一些生物？"><!--[--><!--]--> 27.如何在游戏开始30秒后，从(0,7,0)到(15,10,15)范围内随机生成一些生物？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_28-如何更改玩家模型" class="router-link-active router-link-exact-active sidebar-item" aria-label="28.如何更改玩家模型？"><!--[--><!--]--> 28.如何更改玩家模型？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_29-能否让玩家在某个区域范围内-自动向前加速" class="router-link-active router-link-exact-active sidebar-item" aria-label="29.能否让玩家在某个区域范围内，自动向前加速？"><!--[--><!--]--> 29.能否让玩家在某个区域范围内，自动向前加速？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_30-如何查看生物id" class="router-link-active router-link-exact-active sidebar-item" aria-label="30.如何查看生物id？"><!--[--><!--]--> 30.如何查看生物id？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_31-如何清空玩家背包" class="router-link-active router-link-exact-active sidebar-item" aria-label="31.如何清空玩家背包？"><!--[--><!--]--> 31.如何清空玩家背包？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_32-为什么使用player-setposition-uid-x-y-z-接口-玩家会卡在虚空无法移动" class="router-link-active router-link-exact-active sidebar-item" aria-label="32.为什么使用Player:setPosition(uid,x,y,z)接口，玩家会卡在虚空无法移动？"><!--[--><!--]--> 32.为什么使用Player:setPosition(uid,x,y,z)接口，玩家会卡在虚空无法移动？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_33-——" class="router-link-active router-link-exact-active sidebar-item" aria-label="33.——"><!--[--><!--]--> 33.—— <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_34-如何修改生物属性-比如血量、速度等" class="router-link-active router-link-exact-active sidebar-item" aria-label="34.如何修改生物属性，比如血量、速度等？"><!--[--><!--]--> 34.如何修改生物属性，比如血量、速度等？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_35-如何等待1秒后继续执行" class="router-link-active router-link-exact-active sidebar-item" aria-label="35.如何等待1秒后继续执行？"><!--[--><!--]--> 35.如何等待1秒后继续执行？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_36-如何在指定位置生成生物" class="router-link-active router-link-exact-active sidebar-item" aria-label="36.如何在指定位置生成生物？"><!--[--><!--]--> 36.如何在指定位置生成生物？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_37-如何攻击生物时-在生物头顶显示剩余血量" class="router-link-active router-link-exact-active sidebar-item" aria-label="37.如何攻击生物时，在生物头顶显示剩余血量？"><!--[--><!--]--> 37.如何攻击生物时，在生物头顶显示剩余血量？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_38-能否监听玩家放置生物蛋的事件" class="router-link-active router-link-exact-active sidebar-item" aria-label="38.能否监听玩家放置生物蛋的事件？"><!--[--><!--]--> 38.能否监听玩家放置生物蛋的事件？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_39-如何实现玩家长按shift加速" class="router-link-active router-link-exact-active sidebar-item" aria-label="39.如何实现玩家长按Shift加速？"><!--[--><!--]--> 39.如何实现玩家长按Shift加速？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_40-如何获取玩家手持道具的id" class="router-link-active router-link-exact-active sidebar-item" aria-label="40.如何获取玩家手持道具的id？"><!--[--><!--]--> 40.如何获取玩家手持道具的id？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_41-为什么计时器窗口会消失" class="router-link-active router-link-exact-active sidebar-item" aria-label="41.为什么计时器窗口会消失？"><!--[--><!--]--> 41.为什么计时器窗口会消失？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_42-如何设置玩家坐标" class="router-link-active router-link-exact-active sidebar-item" aria-label="42.如何设置玩家坐标？"><!--[--><!--]--> 42.如何设置玩家坐标？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_43-能否在游戏运行中更改地图游戏人数上限" class="router-link-active router-link-exact-active sidebar-item" aria-label="43.能否在游戏运行中更改地图游戏人数上限？"><!--[--><!--]--> 43.能否在游戏运行中更改地图游戏人数上限？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_44-能否把玩家踢出游戏" class="router-link-active router-link-exact-active sidebar-item" aria-label="44.能否把玩家踢出游戏？"><!--[--><!--]--> 44.能否把玩家踢出游戏？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_45-为什么设置了方块无法被破坏-但还是会被炸掉" class="router-link-active router-link-exact-active sidebar-item" aria-label="45.为什么设置了方块无法被破坏，但还是会被炸掉？"><!--[--><!--]--> 45.为什么设置了方块无法被破坏，但还是会被炸掉？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_46-玩家离开一定距离后-npc会消失-这个bug可以解决吗" class="router-link-active router-link-exact-active sidebar-item" aria-label="46.玩家离开一定距离后，NPC会消失，这个bug可以解决吗？"><!--[--><!--]--> 46.玩家离开一定距离后，NPC会消失，这个bug可以解决吗？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_47-如何改变生物模型" class="router-link-active router-link-exact-active sidebar-item" aria-label="47.如何改变生物模型？"><!--[--><!--]--> 47.如何改变生物模型？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_48-能否获取整个地图的生物数量" class="router-link-active router-link-exact-active sidebar-item" aria-label="48.能否获取整个地图的生物数量？"><!--[--><!--]--> 48.能否获取整个地图的生物数量？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_49-如何清除某个生物" class="router-link-active router-link-exact-active sidebar-item" aria-label="49.如何清除某个生物？"><!--[--><!--]--> 49.如何清除某个生物？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_50-能否获取指定坐标上的生物id" class="router-link-active router-link-exact-active sidebar-item" aria-label="50.能否获取指定坐标上的生物id？"><!--[--><!--]--> 50.能否获取指定坐标上的生物id？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_51-如何让生物出现几秒后消失-如何再出现-一直循环" class="router-link-active router-link-exact-active sidebar-item" aria-label="51.如何让生物出现几秒后消失，如何再出现，一直循环？"><!--[--><!--]--> 51.如何让生物出现几秒后消失，如何再出现，一直循环？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/questions.html#_52-能否移除家园宠物" class="router-link-active router-link-exact-active sidebar-item" aria-label="52.能否移除家园宠物？"><!--[--><!--]--> 52.能否移除家园宠物？ <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="脚本常见问题" tabindex="-1"><a class="header-anchor" href="#脚本常见问题" aria-hidden="true">#</a> 脚本常见问题</h1><h2 id="_1-block中的data在什么地方使用" tabindex="-1"><a class="header-anchor" href="#_1-block中的data在什么地方使用" aria-hidden="true">#</a> 1.Block中的data在什么地方使用</h2><p>data使用有具体需求,此处不建议开发者使用。开发者尽可能使用已封装过的没有data的新接口</p><hr><h2 id="_2-自定义的block和item应该如何获取id-或-data-用于-setblock、spawnitem-等" tabindex="-1"><a class="header-anchor" href="#_2-自定义的block和item应该如何获取id-或-data-用于-setblock、spawnitem-等" aria-hidden="true">#</a> 2.自定义的Block和Item应该如何获取ID (或 data?)(用于 setBlock、spawnItem 等)</h2><p>有两种办法可以获取到自定义类型的ID，&lt;1&gt;使用手持触发器去点击获取 &lt;2&gt;依赖相关的触发事件去打印ID 比如，如果是自定义的方块或者生物，可以将其放置在地图里然后用手持触发器去点击获取信息，也可以通过触发相关事件去打印出ID。 代码示例如下：</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code>Callback_ClickBlock <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>event_args<span class="token punctuation">)</span>
   <span class="token keyword">local</span> blockid <span class="token operator">=</span> event_args<span class="token punctuation">[</span><span class="token string">&#39;blockid&#39;</span><span class="token punctuation">]</span>
   Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&#39;点击的方块ID为&#39;</span><span class="token operator">..</span>blockid<span class="token punctuation">)</span>
<span class="token keyword">end</span>
ScriptSupportEvent<span class="token punctuation">:</span><span class="token function">registerEvent</span><span class="token punctuation">(</span><span class="token string">[=[Player.ClickBlock]=]</span><span class="token punctuation">,</span> Callback_ClickBlock<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="_3-如何创建线程" tabindex="-1"><a class="header-anchor" href="#_3-如何创建线程" aria-hidden="true">#</a> 3.如何创建线程</h2><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code>threadpool<span class="token punctuation">:</span><span class="token function">work</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">--这里写在新线程中需要运行的内容</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-block-接口中的-setblockallfornotify-setblockallforupdate-方法的参数-flag-需要更多信息" tabindex="-1"><a class="header-anchor" href="#_4-block-接口中的-setblockallfornotify-setblockallforupdate-方法的参数-flag-需要更多信息" aria-hidden="true">#</a> 4.Block 接口中的 setBlockAllForNotify/setBlockAllForUpdate 方法的参数 flag 需要更多信息</h2><p>setBlockAllForNotify/setBlockAllForUpdate方法中的flag和data参数对开发者来说都是不可用的，新版wiki描述上已修正</p><hr><h2 id="_5-objectlib-方法里的-uuid-该如何获取" tabindex="-1"><a class="header-anchor" href="#_5-objectlib-方法里的-uuid-该如何获取" aria-hidden="true">#</a> 5.ObjectLib 方法里的 uuid 该如何获取</h2><p>目前开发者暂时没法直接获取到，我们会在下一版里迭代更新，详情请关注更新通知</p><hr><h2 id="_6-world-playsoundeffectonpos-方法的-soundid-参数需要更多信息" tabindex="-1"><a class="header-anchor" href="#_6-world-playsoundeffectonpos-方法的-soundid-参数需要更多信息" aria-hidden="true">#</a> 6.World:playSoundEffectOnPos 方法的 soundId 参数需要更多信息</h2><p>最新一期Wiki会放出soundId[2]表，与触发器内的音效库同步</p><hr><h2 id="_7-world-类中可否提供一个获取有所有-actor-的方法-或者历遍其的方法-非-world-getactorsbybox" tabindex="-1"><a class="header-anchor" href="#_7-world-类中可否提供一个获取有所有-actor-的方法-或者历遍其的方法-非-world-getactorsbybox" aria-hidden="true">#</a> 7.World 类中可否提供一个获取有所有 Actor 的方法，或者历遍其的方法 (非 World:getActorsByBox)</h2><p>由于游戏机制及效率考虑的原因，此功能不给予提供。但我们会提供触发器生物库的ActorId[3]表</p><hr><h2 id="_8-event-需要更详细的用法及参数解释" tabindex="-1"><a class="header-anchor" href="#_8-event-需要更详细的用法及参数解释" aria-hidden="true">#</a> 8.Event 需要更详细的用法及参数解释</h2><p>Event即为开发者事件，是指玩家在游戏内进行了某些操作后触发的对应事件。比如玩家点击了某个方块， 这时就会触发玩家的点击方块事件，即名为&quot;Player.ClickBlock&quot;的事件，开发者只要注册监听该事件就能进行点击方块后的对应操作。 注册监听事件的方法如下：ScriptSupportEvent:registerEvent([=[Player.ClickBlock]=], function(event_args) ... end)。 而开发者事件在进行回调时会传回来一些对应的参数，每个开发者事件对应的参数可参考wiki中的事件系统[4]部分。</p><hr><h2 id="_9-ui-接口中的-setgbattleui-setshapeline-setshapecircle-方法的参数-name-及-uiname-需要更多信息" tabindex="-1"><a class="header-anchor" href="#_9-ui-接口中的-setgbattleui-setshapeline-setshapecircle-方法的参数-name-及-uiname-需要更多信息" aria-hidden="true">#</a> 9.UI 接口中的 setGBattleUI/setShapeLine/setShapeCircle 方法的参数 name 及 uiname 需要更多信息</h2><p>1)setGBattleUI方法的参数name是string类型的枚举值，可选值有如下几种情况:</p><table><tbody><tr><td><span>name</span></td><td><span>value type</span></td><td><span>value describe</span></td></tr><tr><td><span>&#39;left_title&#39;</span></td><td><span>string</span></td><td><span>左标题（第1）</span></td></tr><tr><td><span>&#39;right_title&#39;</span></td><td><span>string</span></td><td><span>右标题（/40）</span></td></tr><tr><td><span>&#39;left_desc&#39;</span></td><td><span>string</span></td><td><span>左描述（大吉大利，我是第一）</span></td></tr><tr><td><span>&#39;left_little_desc&#39;</span></td><td><span>string</span></td><td><span>左简述（排名1）</span></td></tr><tr><td><span>&#39;right_little_desc&#39;</span></td><td><span>string</span></td><td><span>右简述（战胜4）</span></td></tr><tr><td><span>&#39;battle_btn&#39;</span></td><td><span>boolean</span></td><td><span>比分导航栏面板按钮显示</span></td></tr><tr><td><span>&#39;result&#39;</span></td><td><span>boolean</span></td><td><span>比赛结果显示</span></td></tr><tr><td><span>&#39;result_bkg&#39;</span></td><td><span>boolean</span></td><td><span>比赛结果底板显示</span></td></tr><tr><td><span>&#39;reopen&#39;</span></td><td><span>boolean</span></td><td><span>再来一局按钮显示</span></td></tr></tbody></table><p>2)setShapeLine及setShapeCircle这两个接口目前暂时无效果，可不用理会。后面自定义用户界面(Custom UI)完成后可将其替代</p><hr><h2 id="_10-ui-showscreeneffect-方法的-type-需要更多信息" tabindex="-1"><a class="header-anchor" href="#_10-ui-showscreeneffect-方法的-type-需要更多信息" aria-hidden="true">#</a> 10.UI:ShowScreenEffect 方法的 type 需要更多信息</h2><p>该接口是用于显示屏幕特效，其中type的值为1表示speedline，2表示powerline，3表示fog</p><hr><h2 id="_11-game-addrenderglobaleffect-方法的-path-参数需要更多信息" tabindex="-1"><a class="header-anchor" href="#_11-game-addrenderglobaleffect-方法的-path-参数需要更多信息" aria-hidden="true">#</a> 11.Game:addRenderGlobalEffect 方法的 path 参数需要更多信息</h2><p>path即为全局特效的路径，目前可用的是path只有&quot;particles/Fog.ent&quot;，详情可参考范例集合[5]里面给出的例子</p><hr><h2 id="_12-game-getdefstring-方法的-id-需要更多信息" tabindex="-1"><a class="header-anchor" href="#_12-game-getdefstring-方法的-id-需要更多信息" aria-hidden="true">#</a> 12.Game:getDefString 方法的 id 需要更多信息</h2><p>不提倡开发者使用上述接口，鼓励开发者使用自己定义的字符串</p><hr><h2 id="_13-player-setactionattrstate-方法的-actionattr-参数需要更多信息" tabindex="-1"><a class="header-anchor" href="#_13-player-setactionattrstate-方法的-actionattr-参数需要更多信息" aria-hidden="true">#</a> 13.Player:setActionAttrState 方法的 actionattr 参数需要更多信息</h2><p>setActionAttrState是设置玩家特殊属性的状态(例如可移动、可攻击等)的接口，actionattr参数可参考PLAYERATTR_ENABLE[6]</p><hr><h2 id="_14-team-接口中的-teamid-参数需要更多信息" tabindex="-1"><a class="header-anchor" href="#_14-team-接口中的-teamid-参数需要更多信息" aria-hidden="true">#</a> 14.Team 接口中的 teamid 参数需要更多信息</h2><p>目前我们游戏中最多支持六个队伍，六个队伍的ID及颜色对应如下：</p><table><tbody><tr><td><span>  队伍</span></td><td><span>  对应颜色</span></td><td><span> TeamID</span></td></tr><tr><td><span> 队伍1</span></td><td><span> 红色</span></td><td><span> 1</span></td></tr><tr><td><span> 队伍2</span></td><td><span> 蓝色</span></td><td><span> 2</span></td></tr><tr><td><span> 队伍3</span></td><td><span> 绿色</span></td><td><span> 3</span></td></tr><tr><td><span> 队伍4</span></td><td><span> 黄色</span></td><td><span> 4</span></td></tr><tr><td><span> 队伍5</span></td><td><span> 橙色</span></td><td><span> 5</span></td></tr><tr><td><span> 队伍6</span></td><td><span> 紫色</span></td><td><span> 6</span></td></tr><tr><td><span> 观战队</span></td><td><span> 无</span></td><td><span> 999</span></td></tr></tbody></table><p>Team相关接口中，可以teamid使用-1表示全部队伍。玩家或生物如果不设置队伍的话默认teamid是为0，也是无队伍的一种</p><hr><h2 id="_15-appendspeed-接口中的x-y-z参数信息" tabindex="-1"><a class="header-anchor" href="#_15-appendspeed-接口中的x-y-z参数信息" aria-hidden="true">#</a> 15.appendSpeed 接口中的x,y,z参数信息</h2><p>该接口的参数x,y,z表示设定一个移动距离，需要传入整数。</p><p>案例：假设把Z设定为5，当执行一次该接口后，那么objid就会向+z轴移动5格的距离</p><p>写法：appendSpeed(objid,0,0,5)</p><hr><h2 id="_16-getblockpowerstatus-接口中的pos的使用方法" tabindex="-1"><a class="header-anchor" href="#_16-getblockpowerstatus-接口中的pos的使用方法" aria-hidden="true">#</a> 16.getBlockPowerStatus 接口中的pos的使用方法</h2><p>假设想判断坐标为（7、7、7）位置的方块通电状态，</p><p>正确的写法：</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> pos <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span>y<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span>z<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">}</span>
Block<span class="token punctuation">:</span><span class="token function">getBlockPowerStatus</span><span class="token punctuation">(</span>pos<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>常见错误写法：</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> pos <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">}</span>
Block<span class="token punctuation">:</span><span class="token function">getBlockPowerStatus</span><span class="token punctuation">(</span>pos<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="_17-ui接口为什么没有效果" tabindex="-1"><a class="header-anchor" href="#_17-ui接口为什么没有效果" aria-hidden="true">#</a> 17.UI接口为什么没有效果？</h2><p>ui相关的接口暂时不能用，等后续更新。</p><hr><h2 id="_18-如何让游戏开始5秒后-每隔5秒生成一批生物" tabindex="-1"><a class="header-anchor" href="#_18-如何让游戏开始5秒后-每隔5秒生成一批生物" aria-hidden="true">#</a> 18.如何让游戏开始5秒后，每隔5秒生成一批生物？</h2><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--5秒后开始刷怪 每隔5秒刷一次 坐标(0,7,0) 怪物id3400 生成5只</span>
<span class="token keyword">local</span> <span class="token keyword">function</span> <span class="token function">r</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
    <span class="token keyword">local</span> t<span class="token operator">=</span>e<span class="token punctuation">.</span>second
    <span class="token keyword">if</span> t<span class="token operator">&gt;</span><span class="token number">5</span> <span class="token keyword">and</span> <span class="token punctuation">(</span>t<span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">5</span><span class="token operator">==</span><span class="token number">0</span> <span class="token keyword">then</span>
        World<span class="token punctuation">:</span><span class="token function">spawnCreature</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3400</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
ScriptSupportEvent<span class="token punctuation">:</span><span class="token function">registerEvent</span><span class="token punctuation">(</span><span class="token string">&quot;Game.RunTime&quot;</span><span class="token punctuation">,</span>r<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="_19-游戏坐标-x-y-z-分别指什么" tabindex="-1"><a class="header-anchor" href="#_19-游戏坐标-x-y-z-分别指什么" aria-hidden="true">#</a> 19.游戏坐标(x,y,z)分别指什么？</h2><p>x：横坐标，y：竖坐标，z：纵坐标；</p><p>（x，y，z）代表：坐标（x，z）高度y的位置，如图：</p><p><img src="https://image.mini1.cn/c/20210227/7c85d0cd4c0cf394dafd00629e6c94ab.png" alt=""></p><hr><h2 id="_20-如何查看某个方块的坐标" tabindex="-1"><a class="header-anchor" href="#_20-如何查看某个方块的坐标" aria-hidden="true">#</a> 20.如何查看某个方块的坐标？</h2><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--点击方块显示坐标</span>
<span class="token keyword">local</span> <span class="token keyword">function</span> <span class="token function">f2</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
    <span class="token keyword">local</span> x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token operator">=</span>math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span>math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">,</span>math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>z<span class="token punctuation">)</span>
    Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;( &quot;</span><span class="token operator">..</span>x<span class="token operator">..</span><span class="token string">&quot; , &quot;</span><span class="token operator">..</span>y<span class="token operator">..</span><span class="token string">&quot; , &quot;</span><span class="token operator">..</span>z<span class="token operator">..</span><span class="token string">&quot; )&quot;</span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">)</span>
<span class="token keyword">end</span>
ScriptSupportEvent<span class="token punctuation">:</span><span class="token function">registerEvent</span><span class="token punctuation">(</span><span class="token string">&#39;Player.ClickBlock&#39;</span><span class="token punctuation">,</span>f2<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="_21-输出的聊天框消息为什么会是星号" tabindex="-1"><a class="header-anchor" href="#_21-输出的聊天框消息为什么会是星号" aria-hidden="true">#</a> 21.输出的聊天框消息为什么会是星号(*)？</h2><p>数字太多会被屏蔽，可以使用print输出，然后打开“测试”，在运行日志里查看：</p><p><img src="https://image.mini1.cn/c/20210227/03d9e489723fee91194636413b984d58.png" alt=""></p><hr><h2 id="_22-可以自定义npc的ai吗" tabindex="-1"><a class="header-anchor" href="#_22-可以自定义npc的ai吗" aria-hidden="true">#</a> 22.可以自定义NPC的AI吗？</h2><p>目前没有相关接口。可以使用插件里自带的一些AI。</p><hr><h2 id="_23-为什么生成方块接口那么卡" tabindex="-1"><a class="header-anchor" href="#_23-为什么生成方块接口那么卡" aria-hidden="true">#</a> 23.为什么生成方块接口那么卡？</h2><p>不要一次性生成太多方块，不同设备性能不同，一般尽量不要超过100。</p><hr><h2 id="_24-如何修改玩家的血量和饱食度-或者跳跃高度、移动速度等属性" tabindex="-1"><a class="header-anchor" href="#_24-如何修改玩家的血量和饱食度-或者跳跃高度、移动速度等属性" aria-hidden="true">#</a> 24.如何修改玩家的血量和饱食度？或者跳跃高度、移动速度等属性？</h2><p>使用Player:setAttr(uid,attr,value)接口。</p><hr><h2 id="_25-如何不允许玩家放置某种特定方块" tabindex="-1"><a class="header-anchor" href="#_25-如何不允许玩家放置某种特定方块" aria-hidden="true">#</a> 25.如何不允许玩家放置某种特定方块？</h2><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--不允许放置的方块id为1</span>
<span class="token keyword">local</span> <span class="token keyword">function</span> <span class="token function">f3</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
    <span class="token keyword">if</span> e<span class="token punctuation">.</span>blockid<span class="token operator">==</span><span class="token number">1</span> <span class="token keyword">then</span>
        Block<span class="token punctuation">:</span><span class="token function">destroyBlock</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>x<span class="token punctuation">,</span>e<span class="token punctuation">.</span>y<span class="token punctuation">,</span>e<span class="token punctuation">.</span>z<span class="token punctuation">)</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
ScriptSupportEvent<span class="token punctuation">:</span><span class="token function">registerEvent</span><span class="token punctuation">(</span><span class="token string">&#39;Block.PlaceBy&#39;</span><span class="token punctuation">,</span>f3<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="_26-为什么我用脚本生成的生物-离一定距离的话-隔段时间就消失了" tabindex="-1"><a class="header-anchor" href="#_26-为什么我用脚本生成的生物-离一定距离的话-隔段时间就消失了" aria-hidden="true">#</a> 26.为什么我用脚本生成的生物，离一定距离的话，隔段时间就消失了？</h2><p>这是bug，已经提交修复，等待后续更新。</p><hr><h2 id="_27-如何在游戏开始30秒后-从-0-7-0-到-15-10-15-范围内随机生成一些生物" tabindex="-1"><a class="header-anchor" href="#_27-如何在游戏开始30秒后-从-0-7-0-到-15-10-15-范围内随机生成一些生物" aria-hidden="true">#</a> 27.如何在游戏开始30秒后，从(0,7,0)到(15,10,15)范围内随机生成一些生物？</h2><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--30:游戏开始30秒后 (0,7,0)和(15,10,15):生成范围 {{3400,5},{3401,6},{3402,7}}:生成的生物id和数量</span>
<span class="token keyword">local</span> st<span class="token operator">=</span><span class="token number">30</span>
<span class="token keyword">local</span> x0<span class="token punctuation">,</span>y0<span class="token punctuation">,</span>z0<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">0</span>
<span class="token keyword">local</span> x1<span class="token punctuation">,</span>y1<span class="token punctuation">,</span>z1<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">15</span>
<span class="token keyword">local</span> actors<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">3400</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token number">3401</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token number">3402</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token keyword">local</span> <span class="token keyword">function</span> <span class="token function">r</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
    <span class="token keyword">local</span> t<span class="token operator">=</span>e<span class="token punctuation">.</span>second
    <span class="token keyword">if</span> t<span class="token operator">==</span>st <span class="token keyword">then</span>
        <span class="token keyword">local</span> i<span class="token operator">=</span><span class="token number">0</span>
        <span class="token keyword">for</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">#</span>actors <span class="token keyword">do</span>
            World<span class="token punctuation">:</span><span class="token function">spawnCreature</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span>x0<span class="token punctuation">,</span>x1<span class="token punctuation">)</span><span class="token punctuation">,</span>math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span>y0<span class="token punctuation">,</span>y1<span class="token punctuation">)</span><span class="token punctuation">,</span>math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span>z0<span class="token punctuation">,</span>z1<span class="token punctuation">)</span><span class="token punctuation">,</span>actors<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>actors<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">end</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
ScriptSupportEvent<span class="token punctuation">:</span><span class="token function">registerEvent</span><span class="token punctuation">(</span><span class="token string">&quot;Game.RunTime&quot;</span><span class="token punctuation">,</span>r<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="_28-如何更改玩家模型" tabindex="-1"><a class="header-anchor" href="#_28-如何更改玩家模型" aria-hidden="true">#</a> 28.如何更改玩家模型？</h2><p>修改状态插件，在“效果”里选择“更改玩家模型”。需要改模型的时候使用Actor:addBuff(objid,buffid,bufflv)接口给玩家添加这个状态即可。</p><hr><h2 id="_29-能否让玩家在某个区域范围内-自动向前加速" tabindex="-1"><a class="header-anchor" href="#_29-能否让玩家在某个区域范围内-自动向前加速" aria-hidden="true">#</a> 29.能否让玩家在某个区域范围内，自动向前加速？</h2><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> x0<span class="token punctuation">,</span>y0<span class="token punctuation">,</span>z0<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">0</span>
<span class="token keyword">local</span> x1<span class="token punctuation">,</span>y1<span class="token punctuation">,</span>z1<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">15</span>
<span class="token keyword">local</span> <span class="token keyword">function</span> <span class="token function">r</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">local</span> r<span class="token punctuation">,</span>n<span class="token punctuation">,</span>ps<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">getAllPlayers</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">local</span> i<span class="token operator">=</span><span class="token number">0</span>
    <span class="token keyword">for</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>n <span class="token keyword">do</span>
        <span class="token keyword">local</span> r2<span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token operator">=</span>Player<span class="token punctuation">:</span><span class="token function">getPosition</span><span class="token punctuation">(</span>ps<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> x<span class="token operator">&gt;</span>x0 <span class="token keyword">and</span> x<span class="token operator">&lt;</span>x1 <span class="token keyword">and</span> y<span class="token operator">&gt;</span>y0 <span class="token keyword">and</span> y<span class="token operator">&lt;</span>y1 <span class="token keyword">and</span> z<span class="token operator">&gt;</span>z0 <span class="token keyword">and</span> z<span class="token operator">&lt;</span>z1 <span class="token keyword">then</span>
            <span class="token keyword">local</span> r3<span class="token punctuation">,</span>dx<span class="token punctuation">,</span>dy<span class="token punctuation">,</span>dz<span class="token operator">=</span>Actor<span class="token punctuation">:</span><span class="token function">getFaceDirection</span><span class="token punctuation">(</span>ps<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
            Actor<span class="token punctuation">:</span><span class="token function">appendSpeed</span><span class="token punctuation">(</span>ps<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>dx<span class="token operator">/</span>math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>dx<span class="token operator">+</span>dz<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>dz<span class="token operator">/</span>math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>dx<span class="token operator">+</span>dz<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">end</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
ScriptSupportEvent<span class="token punctuation">:</span><span class="token function">registerEvent</span><span class="token punctuation">(</span><span class="token string">&quot;Game.Run&quot;</span><span class="token punctuation">,</span>r<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="_30-如何查看生物id" tabindex="-1"><a class="header-anchor" href="#_30-如何查看生物id" aria-hidden="true">#</a> 30.如何查看生物id？</h2><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--点击生物，输出id</span>
<span class="token keyword">local</span> <span class="token keyword">function</span> <span class="token function">c</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
    <span class="token keyword">local</span> r<span class="token punctuation">,</span>id<span class="token operator">=</span>Creature<span class="token punctuation">:</span><span class="token function">getActorID</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>toobjid<span class="token punctuation">)</span>
    Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token keyword">end</span>
ScriptSupportEvent<span class="token punctuation">:</span><span class="token function">registerEvent</span><span class="token punctuation">(</span><span class="token string">&#39;Player.ClickActor&#39;</span><span class="token punctuation">,</span>c<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="_31-如何清空玩家背包" tabindex="-1"><a class="header-anchor" href="#_31-如何清空玩家背包" aria-hidden="true">#</a> 31.如何清空玩家背包？</h2><p>使用Backpack:clearAllPack(uid)接口。</p><hr><h2 id="_32-为什么使用player-setposition-uid-x-y-z-接口-玩家会卡在虚空无法移动" tabindex="-1"><a class="header-anchor" href="#_32-为什么使用player-setposition-uid-x-y-z-接口-玩家会卡在虚空无法移动" aria-hidden="true">#</a> 32.为什么使用Player:setPosition(uid,x,y,z)接口，玩家会卡在虚空无法移动？</h2><p>如果设置的坐标距离过远，不在玩家加载的区块范围内（视野范围），就会导致玩家卡在虚空。可以使用“复活玩家到指定坐标”代替，即Player:reviveToPos(uid,x,y,z)接口。</p><hr><h2 id="_33-——" tabindex="-1"><a class="header-anchor" href="#_33-——" aria-hidden="true">#</a> 33.——</h2><hr><h2 id="_34-如何修改生物属性-比如血量、速度等" tabindex="-1"><a class="header-anchor" href="#_34-如何修改生物属性-比如血量、速度等" aria-hidden="true">#</a> 34.如何修改生物属性，比如血量、速度等？</h2><p>使用Creature:setAttr(objid,attr,value)接口。</p><hr><h2 id="_35-如何等待1秒后继续执行" tabindex="-1"><a class="header-anchor" href="#_35-如何等待1秒后继续执行" aria-hidden="true">#</a> 35.如何等待1秒后继续执行？</h2><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code>threadpool<span class="token punctuation">:</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><h2 id="_36-如何在指定位置生成生物" tabindex="-1"><a class="header-anchor" href="#_36-如何在指定位置生成生物" aria-hidden="true">#</a> 36.如何在指定位置生成生物？</h2><p>使用World:spawnCreature(x,y,z,actorid,num)接口。</p><hr><h2 id="_37-如何攻击生物时-在生物头顶显示剩余血量" tabindex="-1"><a class="header-anchor" href="#_37-如何攻击生物时-在生物头顶显示剩余血量" aria-hidden="true">#</a> 37.如何攻击生物时，在生物头顶显示剩余血量？</h2><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> <span class="token keyword">function</span> <span class="token function">Eath</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
    <span class="token keyword">local</span> p<span class="token punctuation">,</span>a<span class="token operator">=</span>e<span class="token punctuation">.</span>eventobjid<span class="token punctuation">,</span>e<span class="token punctuation">.</span>toobjid
    <span class="token keyword">local</span> r<span class="token operator">=</span>Actor<span class="token punctuation">:</span><span class="token function">isPlayer</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    <span class="token keyword">if</span> r<span class="token operator">~=</span><span class="token number">0</span> <span class="token keyword">then</span>
        <span class="token keyword">local</span> r1<span class="token punctuation">,</span>maxhp<span class="token operator">=</span>Creature<span class="token punctuation">:</span><span class="token function">getAttr</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">local</span> r2<span class="token punctuation">,</span>hp<span class="token operator">=</span>Creature<span class="token punctuation">:</span><span class="token function">getAttr</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
        Actor<span class="token punctuation">:</span><span class="token function">shownickname</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token keyword">true</span><span class="token punctuation">)</span>
        Actor<span class="token punctuation">:</span><span class="token function">setnickname</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token string">&quot;#G&quot;</span><span class="token operator">..</span>math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>hp<span class="token punctuation">)</span><span class="token operator">..</span><span class="token string">&quot;#R/&quot;</span><span class="token operator">..</span>math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>maxhp<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
ScriptSupportEvent<span class="token punctuation">:</span><span class="token function">registerEvent</span><span class="token punctuation">(</span><span class="token string">&#39;Player.AttackHit&#39;</span><span class="token punctuation">,</span>Eath<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="_38-能否监听玩家放置生物蛋的事件" tabindex="-1"><a class="header-anchor" href="#_38-能否监听玩家放置生物蛋的事件" aria-hidden="true">#</a> 38.能否监听玩家放置生物蛋的事件？</h2><p>可以，玩家放置生物蛋会触发“生物生成”事件。</p><hr><h2 id="_39-如何实现玩家长按shift加速" tabindex="-1"><a class="header-anchor" href="#_39-如何实现玩家长按shift加速" aria-hidden="true">#</a> 39.如何实现玩家长按Shift加速？</h2><p>监听“长按按键事件”，判断事件中的按键如果是Shift，就增加玩家速度。</p><hr><h2 id="_40-如何获取玩家手持道具的id" tabindex="-1"><a class="header-anchor" href="#_40-如何获取玩家手持道具的id" aria-hidden="true">#</a> 40.如何获取玩家手持道具的id？</h2><p>使用Player:getCurToolID(uid)接口。</p><hr><h2 id="_41-为什么计时器窗口会消失" tabindex="-1"><a class="header-anchor" href="#_41-为什么计时器窗口会消失" aria-hidden="true">#</a> 41.为什么计时器窗口会消失？</h2><p>打开背包后计时器的文字会消失，目前不能解决。可以把显示计时器放在“游戏运行”事件里。</p><hr><h2 id="_42-如何设置玩家坐标" tabindex="-1"><a class="header-anchor" href="#_42-如何设置玩家坐标" aria-hidden="true">#</a> 42.如何设置玩家坐标？</h2><p>使用Actor:setPosition(objid,x,y,z)或Player:setPosition(objid,x,y,z)接口。</p><hr><h2 id="_43-能否在游戏运行中更改地图游戏人数上限" tabindex="-1"><a class="header-anchor" href="#_43-能否在游戏运行中更改地图游戏人数上限" aria-hidden="true">#</a> 43.能否在游戏运行中更改地图游戏人数上限？</h2><p>不能。但是可以监听玩家进入游戏事件，然后判断当前游戏人数是否大于某个值，是的话就传送玩家到地图外面。</p><hr><h2 id="_44-能否把玩家踢出游戏" tabindex="-1"><a class="header-anchor" href="#_44-能否把玩家踢出游戏" aria-hidden="true">#</a> 44.能否把玩家踢出游戏？</h2><p>可以设置玩家游戏结果为负，或者在“游戏运行”事件里设置玩家坐标的高度为负，让玩家在地图下方无法移动。</p><hr><h2 id="_45-为什么设置了方块无法被破坏-但还是会被炸掉" tabindex="-1"><a class="header-anchor" href="#_45-为什么设置了方块无法被破坏-但还是会被炸掉" aria-hidden="true">#</a> 45.为什么设置了方块无法被破坏，但还是会被炸掉？</h2><p>目前“方块无法被破坏”无法避免炸弹、激光等的破坏，只能在插件设置方块抗性为-1，或者监听方块被破坏事件，破坏后重新生成。</p><hr><h2 id="_46-玩家离开一定距离后-npc会消失-这个bug可以解决吗" tabindex="-1"><a class="header-anchor" href="#_46-玩家离开一定距离后-npc会消失-这个bug可以解决吗" aria-hidden="true">#</a> 46.玩家离开一定距离后，NPC会消失，这个bug可以解决吗？</h2><p>已经提交，等待后续更新。目前可以改成“玩家进入区域，生成NPC；玩家离开区域，移除NPC”来代替。</p><hr><h2 id="_47-如何改变生物模型" tabindex="-1"><a class="header-anchor" href="#_47-如何改变生物模型" aria-hidden="true">#</a> 47.如何改变生物模型？</h2><p>目前没有这种接口。只能先移除再创建。</p><hr><h2 id="_48-能否获取整个地图的生物数量" tabindex="-1"><a class="header-anchor" href="#_48-能否获取整个地图的生物数量" aria-hidden="true">#</a> 48.能否获取整个地图的生物数量？</h2><p>无法获取整个地图的，但是可以获取指定区域的生物数量。</p><hr><h2 id="_49-如何清除某个生物" tabindex="-1"><a class="header-anchor" href="#_49-如何清除某个生物" aria-hidden="true">#</a> 49.如何清除某个生物？</h2><p>使用World:despawnCreature(objid)或Actor:killSelf(objid)接口。</p><hr><h2 id="_50-能否获取指定坐标上的生物id" tabindex="-1"><a class="header-anchor" href="#_50-能否获取指定坐标上的生物id" aria-hidden="true">#</a> 50.能否获取指定坐标上的生物id？</h2><p>不能从坐标获取生物。可以从范围获取，获取到的是整个区域内的生物。</p><hr><h2 id="_51-如何让生物出现几秒后消失-如何再出现-一直循环" tabindex="-1"><a class="header-anchor" href="#_51-如何让生物出现几秒后消失-如何再出现-一直循环" aria-hidden="true">#</a> 51.如何让生物出现几秒后消失，如何再出现，一直循环？</h2><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code>as<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">r2</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
    <span class="token keyword">if</span> e<span class="token punctuation">.</span>second<span class="token operator">%</span><span class="token number">4</span><span class="token operator">==</span><span class="token number">0</span> <span class="token keyword">then</span>
        _<span class="token punctuation">,</span>as<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">spawnCreature</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3400</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token keyword">elseif</span> e<span class="token punctuation">.</span>second<span class="token operator">%</span><span class="token number">4</span><span class="token operator">==</span><span class="token number">2</span> <span class="token keyword">then</span>
        <span class="token keyword">for</span> _<span class="token punctuation">,</span>a <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>as<span class="token punctuation">)</span> <span class="token keyword">do</span>
            World<span class="token punctuation">:</span><span class="token function">despawnActor</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
        <span class="token keyword">end</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
ScriptSupportEvent<span class="token punctuation">:</span><span class="token function">registerEvent</span><span class="token punctuation">(</span><span class="token string">[=[Game.RunTime]=]</span><span class="token punctuation">,</span>r2<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="_52-能否移除家园宠物" tabindex="-1"><a class="header-anchor" href="#_52-能否移除家园宠物" aria-hidden="true">#</a> 52.能否移除家园宠物？</h2><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> <span class="token keyword">function</span> <span class="token function">depet</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
    <span class="token keyword">local</span> p<span class="token punctuation">,</span>a<span class="token operator">=</span>e<span class="token punctuation">.</span>eventobjid<span class="token punctuation">,</span>e<span class="token punctuation">.</span>toobjid
    <span class="token keyword">if</span> Actor<span class="token punctuation">:</span><span class="token function">isPlayer</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">1001</span> <span class="token keyword">then</span> a<span class="token operator">=</span>p <span class="token keyword">end</span>
    <span class="token keyword">local</span> _<span class="token punctuation">,</span>id<span class="token operator">=</span>Creature<span class="token punctuation">:</span><span class="token function">getActorID</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    <span class="token keyword">if</span> id<span class="token operator">&gt;</span><span class="token number">10000</span> <span class="token keyword">then</span>
        World<span class="token punctuation">:</span><span class="token function">despawnActor</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
ScriptSupportEvent<span class="token punctuation">:</span><span class="token function">registerEvent</span><span class="token punctuation">(</span><span class="token string">[=[Player.ClickActor]=]</span><span class="token punctuation">,</span>depet<span class="token punctuation">)</span>
ScriptSupportEvent<span class="token punctuation">:</span><span class="token function">registerEvent</span><span class="token punctuation">(</span><span class="token string">[=[Actor.Collide]=]</span><span class="token punctuation">,</span>depet<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/minitoolbox/minitoolbox.github.io/edit/main/docs/docs/API/questions.md" rel="noopener noreferrer" target="_blank" aria-label="在Github上编辑此页"><!--[--><!--]--> 在Github上编辑此页 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">上次更新: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 121608442+minitoolbox@users.noreply.github.com">minitoolbox</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app-753b6809.js" defer></script>
  </body>
</html>
