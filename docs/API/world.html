<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.60">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/images/icon.png"><title>世界管理接口 World | 迷你开发者工具箱</title><meta name="description" content="为迷你世界开发者而生的一款工具箱APP">
    <link rel="preload" href="/assets/style-e906656b.css" as="style"><link rel="stylesheet" href="/assets/style-e906656b.css">
    <link rel="modulepreload" href="/assets/app-753b6809.js"><link rel="modulepreload" href="/assets/framework-96b046e1.js"><link rel="modulepreload" href="/assets/world.html-73b363e7.js"><link rel="modulepreload" href="/assets/world.html-3981be2f.js"><link rel="prefetch" href="/assets/index.html-09bc3a2a.js" as="script"><link rel="prefetch" href="/assets/changelog.html-d1d12cd7.js" as="script"><link rel="prefetch" href="/assets/questions.html-af1ed138.js" as="script"><link rel="prefetch" href="/assets/quickstart.html-07f0234a.js" as="script"><link rel="prefetch" href="/assets/event.html-26b04d74.js" as="script"><link rel="prefetch" href="/assets/game.html-8a985aef.js" as="script"><link rel="prefetch" href="/assets/global.html-d308001a.js" as="script"><link rel="prefetch" href="/assets/questions.html-c090e498.js" as="script"><link rel="prefetch" href="/assets/index.html-7c127441.js" as="script"><link rel="prefetch" href="/assets/contents.html-cdbf0047.js" as="script"><link rel="prefetch" href="/assets/AdventureGuide.html-bc5aa482.js" as="script"><link rel="prefetch" href="/assets/GameBugs.html-225e44ae.js" as="script"><link rel="prefetch" href="/assets/GameCrossService.html-77b7c333.js" as="script"><link rel="prefetch" href="/assets/ChineseChess.html-4bcd860e.js" as="script"><link rel="prefetch" href="/assets/APIMiningAssistant.html-b5ccd696.js" as="script"><link rel="prefetch" href="/assets/EncapsulatedAPI.html-1ee4b8c7.js" as="script"><link rel="prefetch" href="/assets/FileDec.html-90d1137c.js" as="script"><link rel="prefetch" href="/assets/UsefulScript.html-027eb65d.js" as="script"><link rel="prefetch" href="/assets/itemJson.html-d2c37b43.js" as="script"><link rel="prefetch" href="/assets/AnimationScript.html-0b583a56.js" as="script"><link rel="prefetch" href="/assets/FlopDraw.html-e7b187b6.js" as="script"><link rel="prefetch" href="/assets/20220703.html-dd254c6f.js" as="script"><link rel="prefetch" href="/assets/20220704.html-0a063668.js" as="script"><link rel="prefetch" href="/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/assets/index.html-d44c9194.js" as="script"><link rel="prefetch" href="/assets/changelog.html-248a8dfd.js" as="script"><link rel="prefetch" href="/assets/questions.html-05074018.js" as="script"><link rel="prefetch" href="/assets/quickstart.html-adb41eec.js" as="script"><link rel="prefetch" href="/assets/event.html-9b6d92da.js" as="script"><link rel="prefetch" href="/assets/game.html-1ba0b326.js" as="script"><link rel="prefetch" href="/assets/global.html-25d7ee1d.js" as="script"><link rel="prefetch" href="/assets/questions.html-6edc5ce9.js" as="script"><link rel="prefetch" href="/assets/index.html-c626f51e.js" as="script"><link rel="prefetch" href="/assets/contents.html-d4ee855a.js" as="script"><link rel="prefetch" href="/assets/AdventureGuide.html-117c5753.js" as="script"><link rel="prefetch" href="/assets/GameBugs.html-df57762b.js" as="script"><link rel="prefetch" href="/assets/GameCrossService.html-e40fe13d.js" as="script"><link rel="prefetch" href="/assets/ChineseChess.html-9d74d0e2.js" as="script"><link rel="prefetch" href="/assets/APIMiningAssistant.html-07e65f69.js" as="script"><link rel="prefetch" href="/assets/EncapsulatedAPI.html-d737a396.js" as="script"><link rel="prefetch" href="/assets/FileDec.html-416b2ac7.js" as="script"><link rel="prefetch" href="/assets/UsefulScript.html-7983e91b.js" as="script"><link rel="prefetch" href="/assets/itemJson.html-f2eecd92.js" as="script"><link rel="prefetch" href="/assets/AnimationScript.html-092955a0.js" as="script"><link rel="prefetch" href="/assets/FlopDraw.html-30a18ad7.js" as="script"><link rel="prefetch" href="/assets/20220703.html-c74ba3e9.js" as="script"><link rel="prefetch" href="/assets/20220704.html-44714a66.js" as="script"><link rel="prefetch" href="/assets/404.html-46166703.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/images/hero.png" alt="迷你开发者工具箱"><span class="site-name can-hide">迷你开发者工具箱</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/docs/help/quickstart.md" class="" aria-label="使用帮助"><!--[--><!--]--> 使用帮助 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/docs/development/contents.md" class="" aria-label="开发教程"><!--[--><!--]--> 开发教程 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://support.qq.com/products/405243" rel="noopener noreferrer" target="_blank" aria-label="问题反馈"><!--[--><!--]--> 问题反馈 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="友情链接"><span class="title">友情链接</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="友情链接"><span class="title">友情链接</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://dev-wiki.mini1.cn" rel="noopener noreferrer" target="_blank" aria-label="开发者学院"><!--[--><!--]--> 开发者学院 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://ustarry.github.io" rel="noopener noreferrer" target="_blank" aria-label="星光工作室"><!--[--><!--]--> 星光工作室 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/minitoolbox/minitoolbox.github.io" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/docs/help/quickstart.md" class="" aria-label="使用帮助"><!--[--><!--]--> 使用帮助 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/docs/development/contents.md" class="" aria-label="开发教程"><!--[--><!--]--> 开发教程 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://support.qq.com/products/405243" rel="noopener noreferrer" target="_blank" aria-label="问题反馈"><!--[--><!--]--> 问题反馈 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="友情链接"><span class="title">友情链接</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="友情链接"><span class="title">友情链接</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://dev-wiki.mini1.cn" rel="noopener noreferrer" target="_blank" aria-label="开发者学院"><!--[--><!--]--> 开发者学院 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://ustarry.github.io" rel="noopener noreferrer" target="_blank" aria-label="星光工作室"><!--[--><!--]--> 星光工作室 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/minitoolbox/minitoolbox.github.io" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">世界管理接口 World <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/docs/API/world.html#isdaytime" class="router-link-active router-link-exact-active sidebar-item" aria-label="isDaytime"><!--[--><!--]--> isDaytime <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#iscustomgame" class="router-link-active router-link-exact-active sidebar-item" aria-label="isCustomGame"><!--[--><!--]--> isCustomGame <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#iscreativemode" class="router-link-active router-link-exact-active sidebar-item" aria-label="isCreativeMode"><!--[--><!--]--> isCreativeMode <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#isgodmode" class="router-link-active router-link-exact-active sidebar-item" aria-label="isGodMode"><!--[--><!--]--> isGodMode <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#isextremitymode" class="router-link-active router-link-exact-active sidebar-item" aria-label="isExtremityMode"><!--[--><!--]--> isExtremityMode <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#isfreemode" class="router-link-active router-link-exact-active sidebar-item" aria-label="isFreeMode"><!--[--><!--]--> isFreeMode <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#issurvivemode" class="router-link-active router-link-exact-active sidebar-item" aria-label="isSurviveMode"><!--[--><!--]--> isSurviveMode <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#iscreaterunmode" class="router-link-active router-link-exact-active sidebar-item" aria-label="isCreateRunMode"><!--[--><!--]--> isCreateRunMode <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#isgamemakermode" class="router-link-active router-link-exact-active sidebar-item" aria-label="isGameMakerMode"><!--[--><!--]--> isGameMakerMode <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#isgamemakerrunmode" class="router-link-active router-link-exact-active sidebar-item" aria-label="isGameMakerRunMode"><!--[--><!--]--> isGameMakerRunMode <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#gethours" class="router-link-active router-link-exact-active sidebar-item" aria-label="getHours"><!--[--><!--]--> getHours <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#sethours" class="router-link-active router-link-exact-active sidebar-item" aria-label="setHours"><!--[--><!--]--> setHours <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#getcameraeditstate" class="router-link-active router-link-exact-active sidebar-item" aria-label="getCameraEditState"><!--[--><!--]--> getCameraEditState <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#setcameraeditstate" class="router-link-active router-link-exact-active sidebar-item" aria-label="setCameraEditState"><!--[--><!--]--> setCameraEditState <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#getcustomcameraconfig" class="router-link-active router-link-exact-active sidebar-item" aria-label="getCustomCameraConfig"><!--[--><!--]--> getCustomCameraConfig <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#getrangexz" class="router-link-active router-link-exact-active sidebar-item" aria-label="getRangeXZ"><!--[--><!--]--> getRangeXZ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#getraylength" class="router-link-active router-link-exact-active sidebar-item" aria-label="getRayLength"><!--[--><!--]--> getRayLength <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#getrayblock" class="router-link-active router-link-exact-active sidebar-item" aria-label="getRayBlock"><!--[--><!--]--> getRayBlock <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#getactorsbybox" class="router-link-active router-link-exact-active sidebar-item" aria-label="getActorsByBox"><!--[--><!--]--> getActorsByBox <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#getplayertotal" class="router-link-active router-link-exact-active sidebar-item" aria-label="getPlayerTotal"><!--[--><!--]--> getPlayerTotal <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#getallplayers" class="router-link-active router-link-exact-active sidebar-item" aria-label="getAllPlayers"><!--[--><!--]--> getAllPlayers <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#randomoneplayer" class="router-link-active router-link-exact-active sidebar-item" aria-label="randomOnePlayer"><!--[--><!--]--> randomOnePlayer <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#despawnactor" class="router-link-active router-link-exact-active sidebar-item" aria-label="despawnActor"><!--[--><!--]--> despawnActor <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#spawncreature" class="router-link-active router-link-exact-active sidebar-item" aria-label="spawnCreature"><!--[--><!--]--> spawnCreature <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#despawncreature" class="router-link-active router-link-exact-active sidebar-item" aria-label="despawnCreature"><!--[--><!--]--> despawnCreature <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#spawnitem" class="router-link-active router-link-exact-active sidebar-item" aria-label="spawnItem"><!--[--><!--]--> spawnItem <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#despawnitembybox" class="router-link-active router-link-exact-active sidebar-item" aria-label="despawnItemByBox"><!--[--><!--]--> despawnItemByBox <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#despawnitembyobjid" class="router-link-active router-link-exact-active sidebar-item" aria-label="despawnItemByObjid"><!--[--><!--]--> despawnItemByObjid <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#spawnprojectile" class="router-link-active router-link-exact-active sidebar-item" aria-label="spawnProjectile"><!--[--><!--]--> spawnProjectile <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#spawnprojectilebydir" class="router-link-active router-link-exact-active sidebar-item" aria-label="spawnProjectileByDir"><!--[--><!--]--> spawnProjectileByDir <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#calcdistance" class="router-link-active router-link-exact-active sidebar-item" aria-label="calcDistance"><!--[--><!--]--> calcDistance <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#playparticaleffect" class="router-link-active router-link-exact-active sidebar-item" aria-label="playParticalEffect"><!--[--><!--]--> playParticalEffect <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#stopeffectonposition" class="router-link-active router-link-exact-active sidebar-item" aria-label="stopEffectOnPosition"><!--[--><!--]--> stopEffectOnPosition <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#seteffectscaleonposition" class="router-link-active router-link-exact-active sidebar-item" aria-label="setEffectScaleOnPosition"><!--[--><!--]--> setEffectScaleOnPosition <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#randomparticleeffectid" class="router-link-active router-link-exact-active sidebar-item" aria-label="randomParticleEffectID"><!--[--><!--]--> randomParticleEffectID <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#playsoundeffectonpos" class="router-link-active router-link-exact-active sidebar-item" aria-label="playSoundEffectOnPos"><!--[--><!--]--> playSoundEffectOnPos <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#stopsoundeffectonpos" class="router-link-active router-link-exact-active sidebar-item" aria-label="stopSoundEffectOnPos"><!--[--><!--]--> stopSoundEffectOnPos <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#getlightbypos" class="router-link-active router-link-exact-active sidebar-item" aria-label="getLightByPos"><!--[--><!--]--> getLightByPos <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#setblocklightex" class="router-link-active router-link-exact-active sidebar-item" aria-label="setBlockLightEx"><!--[--><!--]--> setBlockLightEx <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#randomsoundid" class="router-link-active router-link-exact-active sidebar-item" aria-label="randomSoundID"><!--[--><!--]--> randomSoundID <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/API/world.html#randomweatherid" class="router-link-active router-link-exact-active sidebar-item" aria-label="randomWeatherID"><!--[--><!--]--> randomWeatherID <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="世界管理接口-world" tabindex="-1"><a class="header-anchor" href="#世界管理接口-world" aria-hidden="true">#</a> 世界管理接口 <code>World</code></h1><p>在使用世界接口前需先创建世界管理对象，方法如下：(此处已废弃)</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> World <span class="token operator">=</span> class<span class="token punctuation">.</span>World<span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>具体函数名及描述如下:</strong></p><table><thead><tr><th style="text-align:center;">序号</th><th style="text-align:center;">函数名</th><th style="text-align:center;">函数描述</th></tr></thead><tbody><tr><td style="text-align:center;">1</td><td style="text-align:center;"><a href="#isdaytime">isDaytime(...)</a></td><td style="text-align:center;">是否是白天</td></tr><tr><td style="text-align:center;">2</td><td style="text-align:center;"><a href="#iscustomgame">isCustomGame(...)</a></td><td style="text-align:center;">是否是自定义游戏</td></tr><tr><td style="text-align:center;">3</td><td style="text-align:center;"><a href="#iscreativemode">isCreativeMode(...)</a></td><td style="text-align:center;">是否是创造模式</td></tr><tr><td style="text-align:center;">4</td><td style="text-align:center;"><a href="#isgodmode">isGodMode(...)</a></td><td style="text-align:center;">多人创造模式 或者 自制玩法的编辑模式</td></tr><tr><td style="text-align:center;">5</td><td style="text-align:center;"><a href="#isextremitymode">isExtremityMode(...)</a></td><td style="text-align:center;">极限模式</td></tr><tr><td style="text-align:center;">6</td><td style="text-align:center;"><a href="#isfreemode">isFreeMode(...)</a></td><td style="text-align:center;">冒险模式之自由模式</td></tr><tr><td style="text-align:center;">7</td><td style="text-align:center;"><a href="#issurvivemode">isSurviveMode(...)</a></td><td style="text-align:center;">单人模式 或者 冒险模式之自由模式</td></tr><tr><td style="text-align:center;">8</td><td style="text-align:center;"><a href="#iscreaterunmode">isCreateRunMode(...)</a></td><td style="text-align:center;">由创造模式转的生存</td></tr><tr><td style="text-align:center;">9</td><td style="text-align:center;"><a href="#isgamemakermode">isGameMakerMode(...)</a></td><td style="text-align:center;">自制玩法的编辑模式</td></tr><tr><td style="text-align:center;">10</td><td style="text-align:center;"><a href="#isgamemakerrunmode">isGameMakerRunMode(...)</a></td><td style="text-align:center;">自制玩法的运行模式</td></tr><tr><td style="text-align:center;">11</td><td style="text-align:center;"><a href="#gethours">getHours(...)</a></td><td style="text-align:center;">获取游戏当前时间(h)</td></tr><tr><td style="text-align:center;">12</td><td style="text-align:center;"><a href="#sethours">setHours(...)</a></td><td style="text-align:center;">设置游戏当前时间(h)</td></tr><tr><td style="text-align:center;">13</td><td style="text-align:center;"><a href="#getcameraeditstate">getCameraEditState(...)</a></td><td style="text-align:center;">获取视角编辑状态</td></tr><tr><td style="text-align:center;">14</td><td style="text-align:center;"><a href="#setcameraeditstate">setCameraEditState(...)</a></td><td style="text-align:center;">设置视角编辑状态</td></tr><tr><td style="text-align:center;">15</td><td style="text-align:center;"><a href="#getcustomcameraconfig">getCustomCameraConfig(...)</a></td><td style="text-align:center;">获取自定义相机配置</td></tr><tr><td style="text-align:center;">16</td><td style="text-align:center;"><a href="#getrangexz">getRangeXZ(...)</a></td><td style="text-align:center;">获取区块(chunk)范围，返回区块始末位置</td></tr><tr><td style="text-align:center;">17</td><td style="text-align:center;"><a href="#getraylength">getRayLength(...)</a></td><td style="text-align:center;">计算指定方向射线长度(遇到方块结束)</td></tr><tr><td style="text-align:center;">18</td><td style="text-align:center;"><a href="#getrayblock">getRayBlock(...)</a></td><td style="text-align:center;">射线打到的方块类型(遇到方块结束)</td></tr><tr><td style="text-align:center;">19</td><td style="text-align:center;"><a href="#getactorsbybox">getActorsByBox(...)</a></td><td style="text-align:center;">获取范围内actor,type参考OBJ_TYPE，0表示范围内全部的actor, 返回数量和objid数组</td></tr><tr><td style="text-align:center;">20</td><td style="text-align:center;"><a href="#getplayertotal">getPlayerTotal(...)</a></td><td style="text-align:center;">获取全部玩家数量，默认全部玩家</td></tr><tr><td style="text-align:center;">21</td><td style="text-align:center;"><a href="#getallplayers">getAllPlayers(...)</a></td><td style="text-align:center;">获取全部玩家,可限制存活情况(0表示存活，1表示阵亡)，默认全部玩家</td></tr><tr><td style="text-align:center;">22</td><td style="text-align:center;"><a href="#randomoneplayer">randomOnePlayer(...)</a></td><td style="text-align:center;">随机获取一名玩家</td></tr><tr><td style="text-align:center;">23</td><td style="text-align:center;"><a href="#despawnactor">despawnActor(...)</a></td><td style="text-align:center;">移除actor</td></tr><tr><td style="text-align:center;">24</td><td style="text-align:center;"><a href="#spawncreature">spawnCreature(...)</a></td><td style="text-align:center;">生成生物(包括怪物、NPC、动物等)</td></tr><tr><td style="text-align:center;">25</td><td style="text-align:center;"><a href="#despawncreature">despawnCreature(...)</a></td><td style="text-align:center;">移除生物</td></tr><tr><td style="text-align:center;">26</td><td style="text-align:center;"><a href="#spawnitem">spawnItem(...)</a></td><td style="text-align:center;">在指定位置生成道具</td></tr><tr><td style="text-align:center;">27</td><td style="text-align:center;"><a href="#despawnitembybox">despawnItemByBox(...)</a></td><td style="text-align:center;">移除道具(通过区域)</td></tr><tr><td style="text-align:center;">28</td><td style="text-align:center;"><a href="#despawnitembyobjid">despawnItemByObjid(...)</a></td><td style="text-align:center;">移除道具(通过ID)</td></tr><tr><td style="text-align:center;">29</td><td style="text-align:center;"><a href="#spawnprojectile">spawnProjectile(...)</a></td><td style="text-align:center;">生成投掷物</td></tr><tr><td style="text-align:center;">30</td><td style="text-align:center;"><a href="#spawnprojectilebydir">spawnProjectileByDir(...)</a></td><td style="text-align:center;">生成投掷物(通过方向)</td></tr><tr><td style="text-align:center;">31</td><td style="text-align:center;"><a href="#calcdistance">calcDistance(...)</a></td><td style="text-align:center;">计算位置之间的距离</td></tr><tr><td style="text-align:center;">32</td><td style="text-align:center;"><a href="#playparticaleffect">playParticalEffect(...)</a></td><td style="text-align:center;">在指定位置播放特效 1.2+</td></tr><tr><td style="text-align:center;">33</td><td style="text-align:center;"><a href="#stopeffectonposition">stopEffectOnPosition(...)</a></td><td style="text-align:center;">停止指定位置的特效 1.2+</td></tr><tr><td style="text-align:center;">34</td><td style="text-align:center;"><a href="#seteffectscaleonposition">setEffectScaleOnPosition(...)</a></td><td style="text-align:center;">设置指定位置的特效大小 1.2+</td></tr><tr><td style="text-align:center;">35</td><td style="text-align:center;"><a href="#randomparticleeffectid">randomParticleEffectID(...)</a></td><td style="text-align:center;">随机特效类型，随机返回一种特效ID 1.2+</td></tr><tr><td style="text-align:center;">36</td><td style="text-align:center;"><a href="#playsoundeffectonpos">playSoundEffectOnPos(...)</a></td><td style="text-align:center;">在指定位置上播放指定音效 1.3+</td></tr><tr><td style="text-align:center;">37</td><td style="text-align:center;"><a href="#stopsoundeffectonpos">stopSoundEffectOnPos(...)</a></td><td style="text-align:center;">停止指定位置上的指定音效 1.3+</td></tr><tr><td style="text-align:center;">38</td><td style="text-align:center;"><a href="#getlightbypos">getLightByPos(...)</a></td><td style="text-align:center;">获取光照强度 1.7+</td></tr><tr><td style="text-align:center;">39</td><td style="text-align:center;"><a href="#setblocklightex">setBlockLightEx(...)</a></td><td style="text-align:center;">设置光照强度 1.7+</td></tr><tr><td style="text-align:center;">40</td><td style="text-align:center;"><a href="#randomSoundID">randomSoundID(...)</a></td><td style="text-align:center;">随机出来的音乐ID 1.9+</td></tr><tr><td style="text-align:center;">41</td><td style="text-align:center;"><a href="#randomWeatherID">randomWeatherID(...)</a></td><td style="text-align:center;">随机出来的天气ID 1.9+</td></tr></tbody></table><h2 id="isdaytime" tabindex="-1"><a class="header-anchor" href="#isdaytime" aria-hidden="true">#</a> isDaytime</h2><ul><li>参数及类型：<code>none</code></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>result:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>boolean</code></strong></a></li></ul></li><li>该方法的主要作用：是否是白天</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--判断现在是不是白天</span>
<span class="token keyword">local</span> result<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">isDaytime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> result<span class="token operator">==</span><span class="token number">0</span> <span class="token keyword">then</span><span class="token comment">--如果是白天</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;现在是白天！&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token comment">--如果不是白天</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;现在是晚上！&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="iscustomgame" tabindex="-1"><a class="header-anchor" href="#iscustomgame" aria-hidden="true">#</a> isCustomGame</h2><ul><li>参数及类型：<code>none</code></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>result:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>boolean</code></strong></a></li></ul></li><li>该方法的主要作用：是否是自定义游戏</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--判断是不是自定义游戏</span>
<span class="token keyword">local</span> result<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">isCustomGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> result<span class="token operator">==</span><span class="token number">0</span> <span class="token keyword">then</span><span class="token comment">--如果是自定义</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;当前是自定义游戏！&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token comment">--如果不是自定义</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;当前不是自定义游戏！&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="iscreativemode" tabindex="-1"><a class="header-anchor" href="#iscreativemode" aria-hidden="true">#</a> isCreativeMode</h2><ul><li>参数及类型：<code>none</code></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>result:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>boolean</code></strong></a></li></ul></li><li>该方法的主要作用：是否是创造模式</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--判断是不是创造模式</span>
<span class="token keyword">local</span> result<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">isCreativeMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> result<span class="token operator">==</span><span class="token number">0</span> <span class="token keyword">then</span><span class="token comment">--如果是创造模式</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;当前是创造模式！&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token comment">--如果不是创造模式</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;当前不是创造模式！&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="isgodmode" tabindex="-1"><a class="header-anchor" href="#isgodmode" aria-hidden="true">#</a> isGodMode</h2><ul><li>参数及类型：<code>none</code></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>result:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>boolean</code></strong></a></li></ul></li><li>该方法的主要作用：多人创造模式 或者 自制玩法的编辑模式</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--判断是不是多人创造模式或者玩法编辑模式</span>
<span class="token keyword">local</span> result<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">isGodMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> result<span class="token operator">==</span><span class="token number">0</span> <span class="token keyword">then</span><span class="token comment">--如果是多人创造或者玩法编辑</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;当前是多人创造或玩法编辑模式！&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token comment">--如果不是</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;当前不是多人创造或玩法编辑模式！&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="isextremitymode" tabindex="-1"><a class="header-anchor" href="#isextremitymode" aria-hidden="true">#</a> isExtremityMode</h2><ul><li>参数及类型：<code>none</code></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>result:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>boolean</code></strong></a></li></ul></li><li>该方法的主要作用：极限模式</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--判断是不是极限模式</span>
<span class="token keyword">local</span> result<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">isExtremityMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> result<span class="token operator">==</span><span class="token number">0</span> <span class="token keyword">then</span><span class="token comment">--如果是极限模式</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;当前是极限模式！&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token comment">--如果不是极限模式</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;当前不是极限模式！&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="isfreemode" tabindex="-1"><a class="header-anchor" href="#isfreemode" aria-hidden="true">#</a> isFreeMode</h2><ul><li>参数及类型：<code>none</code></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>result:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>boolean</code></strong></a></li></ul></li><li>该方法的主要作用：冒险模式之自由模式</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--判断是不是冒险自由模式</span>
<span class="token keyword">local</span> result<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">isFreeMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> result<span class="token operator">==</span><span class="token number">0</span> <span class="token keyword">then</span><span class="token comment">--如果是冒险自由模式</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;当前是冒险自由模式！&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token comment">--如果不是</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;当前不是冒险自由模式！&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="issurvivemode" tabindex="-1"><a class="header-anchor" href="#issurvivemode" aria-hidden="true">#</a> isSurviveMode</h2><ul><li>参数及类型：<code>none</code></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>result:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>boolean</code></strong></a></li></ul></li><li>该方法的主要作用：单人模式 或者 冒险模式之自由模式</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--判断是不是单人生存模式</span>
<span class="token keyword">local</span> result<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">isSurviveMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> result<span class="token operator">==</span><span class="token number">0</span> <span class="token keyword">then</span><span class="token comment">--如果是单人生存模式</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;当前是单人生存模式！&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token comment">--如果不是单人生存模式</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;当前不是单人生存模式！&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="iscreaterunmode" tabindex="-1"><a class="header-anchor" href="#iscreaterunmode" aria-hidden="true">#</a> isCreateRunMode</h2><ul><li>参数及类型：<code>none</code></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>result:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>boolean</code></strong></a></li></ul></li><li>该方法的主要作用：由创造模式转的生存</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--判断是不是创造转生存模式</span>
<span class="token keyword">local</span> result<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">isCreateRunMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> result<span class="token operator">==</span><span class="token number">0</span> <span class="token keyword">then</span><span class="token comment">--如果是创造转生存模式</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;当前是创造转生存模式！&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token comment">--如果不是创造转生存模式</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;当前不是创造转生存模式！&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="isgamemakermode" tabindex="-1"><a class="header-anchor" href="#isgamemakermode" aria-hidden="true">#</a> isGameMakerMode</h2><ul><li>参数及类型：<code>none</code></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>result:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>boolean</code></strong></a></li></ul></li><li>该方法的主要作用：自制玩法的编辑模式</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--判断是不是玩法编辑模式</span>
<span class="token keyword">local</span> result<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">isGameMakerMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> result<span class="token operator">==</span><span class="token number">0</span> <span class="token keyword">then</span><span class="token comment">--如果是玩法编辑模式</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;当前是玩法编辑模式！&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token comment">--如果不是玩法编辑模式</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;当前不是玩法编辑模式！&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="isgamemakerrunmode" tabindex="-1"><a class="header-anchor" href="#isgamemakerrunmode" aria-hidden="true">#</a> isGameMakerRunMode</h2><ul><li>参数及类型：<code>none</code></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>result:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>boolean</code></strong></a></li></ul></li><li>该方法的主要作用：自制玩法的运行模式</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--判断是不是玩法运行模式</span>
<span class="token keyword">local</span> result<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">isGameMakerRunMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> result<span class="token operator">==</span><span class="token number">0</span> <span class="token keyword">then</span><span class="token comment">--如果是玩法运行模式</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;当前是玩法运行模式！&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token comment">--如果不是玩法运行模式</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;当前不是玩法运行模式！&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="gethours" tabindex="-1"><a class="header-anchor" href="#gethours" aria-hidden="true">#</a> getHours</h2><ul><li>参数及类型：<code>none</code></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>result:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a></li></ul></li><li>该方法的主要作用：获取游戏当前时间(h)</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--获取当前时间</span>
<span class="token keyword">local</span> result<span class="token punctuation">,</span>time<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">--在聊天框显示</span>
Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;现在是&quot;</span><span class="token operator">..</span>time<span class="token operator">..</span><span class="token string">&quot;点！&quot;</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="sethours" tabindex="-1"><a class="header-anchor" href="#sethours" aria-hidden="true">#</a> setHours</h2><ul><li>参数及类型： <ul><li>hour:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>int</code></strong></a>小时时间</li></ul></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li></ul></li><li>该方法的主要作用：设置游戏当前时间(h)</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--设置时间为8点</span>
World<span class="token punctuation">:</span><span class="token function">setHours</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
<span class="token comment">--在聊天框显示</span>
Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;时间设置为8点！&quot;</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="getcameraeditstate" tabindex="-1"><a class="header-anchor" href="#getcameraeditstate" aria-hidden="true">#</a> getCameraEditState</h2><ul><li>参数及类型：<code>none</code></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>state:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>0默认，1编辑状态，2测试状态</li></ul></li><li>该方法的主要作用：获取视角编辑状态</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--获取当前视角编辑状态</span>
<span class="token keyword">local</span> result<span class="token punctuation">,</span>state<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">getCameraEditState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> state<span class="token operator">==</span><span class="token number">0</span> <span class="token keyword">then</span><span class="token comment">--0:默认</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;当前视角编辑状态为:默认&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">elseif</span> state<span class="token operator">==</span><span class="token number">1</span> <span class="token keyword">then</span><span class="token comment">--1:编辑中</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;当前视角编辑状态为:编辑中&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">elseif</span> state<span class="token operator">==</span><span class="token number">2</span> <span class="token keyword">then</span><span class="token comment">--2:测试中</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;当前视角编辑状态为:测试中&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="setcameraeditstate" tabindex="-1"><a class="header-anchor" href="#setcameraeditstate" aria-hidden="true">#</a> setCameraEditState</h2><ul><li>参数及类型： <ul><li>state:<a href="/docs/API/global.html#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%A7%86%E8%A7%92%E7%BC%96%E8%BE%91%E7%8A%B6%E6%80%81" class=""><strong><code>CameraEditState</code></strong></a></li></ul></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li></ul></li><li>该方法的主要作用：设置视角编辑状态</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> result <span class="token operator">=</span> World<span class="token punctuation">:</span><span class="token function">setCameraEditState</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="getcustomcameraconfig" tabindex="-1"><a class="header-anchor" href="#getcustomcameraconfig" aria-hidden="true">#</a> getCustomCameraConfig</h2><ul><li>参数及类型：<code>none</code></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>config:<a href="/docs/API/global.html#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%A7%86%E8%A7%92%E7%BC%96%E8%BE%91%E7%8A%B6%E6%80%81" class=""><strong><code>CameraEditState</code></strong></a></li></ul></li><li>该方法的主要作用：获取自定义相机配置</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> result <span class="token operator">=</span> World<span class="token punctuation">:</span><span class="token function">getCustomCameraConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="getrangexz" tabindex="-1"><a class="header-anchor" href="#getrangexz" aria-hidden="true">#</a> getRangeXZ</h2><ul><li>参数及类型：<code>none</code></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>startX,startZ,endX,endZ:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a></li></ul></li><li>该方法的主要作用：获取区块(chunk)范围，返回区块始末位置</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--获取区块范围</span>
<span class="token keyword">local</span> result<span class="token punctuation">,</span>startX<span class="token punctuation">,</span>startZ<span class="token punctuation">,</span>endX<span class="token punctuation">,</span>endZ<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">getRangeXZ</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;区块起点横坐标：&quot;</span><span class="token operator">..</span>startX<span class="token punctuation">)</span>
Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;区块起点纵坐标：&quot;</span><span class="token operator">..</span>startZ<span class="token punctuation">)</span>
Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;区块终点横坐标：&quot;</span><span class="token operator">..</span>endX<span class="token punctuation">)</span>
Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;区块终点纵坐标：&quot;</span><span class="token operator">..</span>endZ<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="getraylength" tabindex="-1"><a class="header-anchor" href="#getraylength" aria-hidden="true">#</a> getRayLength</h2><ul><li>参数及类型： <ul><li>srcx,srcy,srcz:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>起始点坐标</li><li>dstx,dsty,dstz:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>终点坐标</li><li>distance:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>预测的最大距离</li></ul></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>length:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>两点间的长度</li></ul></li><li>该方法的主要作用：计算指定方向射线长度(遇到方块结束)</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> result <span class="token operator">=</span> World<span class="token punctuation">:</span><span class="token function">getRayLength</span><span class="token punctuation">(</span>srcx<span class="token punctuation">,</span> srcy<span class="token punctuation">,</span> srcz<span class="token punctuation">,</span> dstx<span class="token punctuation">,</span> dsty<span class="token punctuation">,</span> dstz<span class="token punctuation">,</span> distance<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="getrayblock" tabindex="-1"><a class="header-anchor" href="#getrayblock" aria-hidden="true">#</a> getRayBlock</h2><ul><li>参数及类型： <ul><li>srcx,srcy,srcz:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>起始点</li><li>face:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a></li><li>distance:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a></li></ul></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>blockid:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a></li></ul></li><li>该方法的主要作用：射线打到的方块类型(遇到方块结束)</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--获取从(0,0)高度10开始，向北50格内碰到的第一个方块id</span>
<span class="token comment">--方向参数：0西 1东 2南 3北 4下 5上</span>
<span class="token keyword">local</span> result<span class="token punctuation">,</span>blockid<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">getRayBlock</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> id<span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">then</span><span class="token comment">--如果50格内没有方块</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;从(0,0)高度10开始，向北50格没有方块&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token comment">--如果50格内有方块</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;从(0,0)高度10开始，向北50格第一个方块id是&quot;</span><span class="token operator">..</span>blockid<span class="token punctuation">)</span>
<span class="token keyword">end</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="getactorsbybox" tabindex="-1"><a class="header-anchor" href="#getactorsbybox" aria-hidden="true">#</a> getActorsByBox</h2><ul><li>参数及类型： <ul><li>objtype:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>指定类型</li><li>x1,y1,z1:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>起始位置</li><li>x2,y2,z2:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>最终位置</li></ul></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>num:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a></li><li>objids:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>table</code></strong></a>objid数组</li></ul></li><li>该方法的主要作用：获取范围内actor,type参考OBJ_TYPE，0表示范围内全部的actor, 返回数量和objid数组</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--参数：</span>
<span class="token keyword">local</span> objtype<span class="token operator">=</span><span class="token number">1</span><span class="token comment">--类型参数：0全部 1玩家 2生物 3掉落物 4投掷物</span>
<span class="token keyword">local</span> x1<span class="token punctuation">,</span>y1<span class="token punctuation">,</span>z1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token comment">--区域起点坐标</span>
<span class="token keyword">local</span> x2<span class="token punctuation">,</span>y2<span class="token punctuation">,</span>z2<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">57</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token comment">--区域终点坐标</span>
<span class="token comment">--获取(x0,z0)高度y0到(x1,z1)高度y1范围内，类型为type的物品数量与列表</span>
<span class="token keyword">local</span> result<span class="token punctuation">,</span>num<span class="token punctuation">,</span>objids<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">getActorsByBox</span><span class="token punctuation">(</span>objtype<span class="token punctuation">,</span>x1<span class="token punctuation">,</span>y1<span class="token punctuation">,</span>z1<span class="token punctuation">,</span>x2<span class="token punctuation">,</span>y2<span class="token punctuation">,</span>z2<span class="token punctuation">)</span>
<span class="token comment">--在聊天框显示数量</span>
Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;在范围内一共有&quot;</span><span class="token operator">..</span>num<span class="token operator">..</span><span class="token string">&quot;个玩家&quot;</span><span class="token punctuation">)</span>
<span class="token comment">--在聊天框显示列表</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span>a <span class="token keyword">in</span> <span class="token function">ipairs</span><span class="token punctuation">(</span>objids<span class="token punctuation">)</span> <span class="token keyword">do</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;第&quot;</span><span class="token operator">..</span>i<span class="token operator">..</span><span class="token string">&quot;个:&quot;</span><span class="token operator">..</span>a<span class="token punctuation">)</span>
<span class="token keyword">end</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="getplayertotal" tabindex="-1"><a class="header-anchor" href="#getplayertotal" aria-hidden="true">#</a> getPlayerTotal</h2><ul><li>参数及类型： <ul><li>alive:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>0表示阵亡，1表示存活，默认-1表示全体玩家</li></ul></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>num:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>数量</li></ul></li><li>该方法的主要作用：获取全部玩家数量，默认全部玩家</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--获取当前存档玩家总数</span>
<span class="token keyword">local</span> result<span class="token punctuation">,</span>num<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">getPlayerTotal</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;当前存档玩家总数为：&quot;</span><span class="token operator">..</span>num<span class="token punctuation">)</span>
<span class="token comment">--获取当前存档阵亡玩家数</span>
result<span class="token punctuation">,</span>num<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">getPlayerTotal</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;当前存档阵亡玩家数为：&quot;</span><span class="token operator">..</span>num<span class="token punctuation">)</span>
<span class="token comment">--获取当前存档存活玩家数</span>
result<span class="token punctuation">,</span>num<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">getPlayerTotal</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;当前存档存活玩家数为：&quot;</span><span class="token operator">..</span>num<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="getallplayers" tabindex="-1"><a class="header-anchor" href="#getallplayers" aria-hidden="true">#</a> getAllPlayers</h2><ul><li>参数及类型： <ul><li>alive:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>0表示阵亡，1表示存活，默认-1表示全体玩家</li></ul></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>num:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>数量</li><li>array:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>table</code></strong></a>玩家ID数组</li></ul></li><li>该方法的主要作用：获取全部玩家,可限制存活情况(0表示存活，1表示阵亡)，默认全部玩家</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--获取当前存档全部玩家列表</span>
<span class="token comment">--参数：-1全部玩家 0阵亡玩家 1存活玩家</span>
<span class="token keyword">local</span> result<span class="token punctuation">,</span>num<span class="token punctuation">,</span>array<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">getAllPlayers</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment">--在聊天框显示数量</span>
Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;当前存档一共有&quot;</span><span class="token operator">..</span>num<span class="token operator">..</span><span class="token string">&quot;个玩家&quot;</span><span class="token punctuation">)</span>
<span class="token comment">--在聊天框显示列表</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span>a <span class="token keyword">in</span> <span class="token function">ipairs</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span> <span class="token keyword">do</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;第&quot;</span><span class="token operator">..</span>i<span class="token operator">..</span><span class="token string">&quot;个:&quot;</span><span class="token operator">..</span>a<span class="token punctuation">)</span>
<span class="token keyword">end</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="randomoneplayer" tabindex="-1"><a class="header-anchor" href="#randomoneplayer" aria-hidden="true">#</a> randomOnePlayer</h2><ul><li>参数及类型： <ul><li>alive:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>0表示阵亡，1表示存活，默认-1表示全体玩家</li></ul></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>playerid:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a></li></ul></li><li>该方法的主要作用：随机获取一名玩家</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--从全部玩家中随机选取一名玩家</span>
<span class="token comment">--参数：-1全部玩家 0阵亡玩家 1存活玩家</span>
<span class="token keyword">local</span> result<span class="token punctuation">,</span>playerid<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">randomOnePlayer</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment">--在聊天框显示</span>
Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;随机选取了一名玩家：&quot;</span><span class="token operator">..</span>playerid<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="despawnactor" tabindex="-1"><a class="header-anchor" href="#despawnactor" aria-hidden="true">#</a> despawnActor</h2><ul><li>参数及类型： <ul><li>objid:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a></li></ul></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li></ul></li><li>该方法的主要作用：移除actor</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--参数：</span>
<span class="token keyword">local</span> type<span class="token operator">=</span><span class="token number">2</span><span class="token comment">--类型参数：1玩家 2生物 3掉落物 4投掷物</span>
<span class="token keyword">local</span> x0<span class="token punctuation">,</span>y0<span class="token punctuation">,</span>z0<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token comment">--区域起点坐标</span>
<span class="token keyword">local</span> x1<span class="token punctuation">,</span>y1<span class="token punctuation">,</span>z1<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">57</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token comment">--区域终点坐标</span>
<span class="token comment">--获取(x0,z0)高度y0到(x1,z1)高度y1范围内，类型为type的物品数量与列表</span>
<span class="token keyword">local</span> result<span class="token punctuation">,</span>n<span class="token punctuation">,</span>actors<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">getActorsByBox</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span>x0<span class="token punctuation">,</span>y0<span class="token punctuation">,</span>z0<span class="token punctuation">,</span>x1<span class="token punctuation">,</span>y1<span class="token punctuation">,</span>z1<span class="token punctuation">)</span>
<span class="token keyword">if</span> n<span class="token operator">&gt;</span><span class="token number">0</span> <span class="token keyword">then</span><span class="token comment">--如果范围内生物数量大于0</span>
	<span class="token comment">--移除其中一个生物</span>
	World<span class="token punctuation">:</span><span class="token function">despawnActor</span><span class="token punctuation">(</span>actors<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token comment">--在聊天框显示</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;移除了&quot;</span><span class="token operator">..</span>actors<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token comment">--如果范围内没有生物</span>
	<span class="token comment">--在聊天框显示</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;(0,7,0)至(50,57,50)范围内没有生物&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="spawncreature" tabindex="-1"><a class="header-anchor" href="#spawncreature" aria-hidden="true">#</a> spawnCreature</h2><ul><li>参数及类型： <ul><li>x,y,z:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a></li><li>actorid:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a></li><li>num:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a></li></ul></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>objids:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>table</code></strong></a>objid数组</li></ul></li><li>该方法的主要作用：生成生物(包括怪物、NPC、动物等)</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--在(0,0)高度7的位置生成3只鸡</span>
<span class="token comment">--前三个参数0,7,0是生成坐标</span>
<span class="token comment">--第四个参数3400是生成的生物id</span>
<span class="token comment">--最后一个参数3是生成的数量</span>
<span class="token keyword">local</span> result<span class="token punctuation">,</span>objids<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">spawnCreature</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3400</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token comment">--在聊天框显示提示</span>
Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;在(0,0)高度7的位置生成了3只鸡，它们在存档中的id分别是：&quot;</span><span class="token punctuation">)</span>
<span class="token comment">--在聊天框显示id列表</span>
<span class="token keyword">for</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">#</span>objids <span class="token keyword">do</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span>objids<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="despawncreature" tabindex="-1"><a class="header-anchor" href="#despawncreature" aria-hidden="true">#</a> despawnCreature</h2><ul><li>参数及类型： <ul><li>objid:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a></li></ul></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li></ul></li><li>该方法的主要作用：移除生物</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--参数：</span>
<span class="token keyword">local</span> type<span class="token operator">=</span><span class="token number">2</span><span class="token comment">--类型参数：1玩家 2生物 3掉落物 4投掷物</span>
<span class="token keyword">local</span> x0<span class="token punctuation">,</span>y0<span class="token punctuation">,</span>z0<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token comment">--区域起点坐标</span>
<span class="token keyword">local</span> x1<span class="token punctuation">,</span>y1<span class="token punctuation">,</span>z1<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">57</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token comment">--区域终点坐标</span>
<span class="token comment">--获取(x0,z0)高度y0到(x1,z1)高度y1范围内，类型为type的物品数量与列表</span>
<span class="token keyword">local</span> result<span class="token punctuation">,</span>n<span class="token punctuation">,</span>actors<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">getActorsByBox</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span>x0<span class="token punctuation">,</span>y0<span class="token punctuation">,</span>z0<span class="token punctuation">,</span>x1<span class="token punctuation">,</span>y1<span class="token punctuation">,</span>z1<span class="token punctuation">)</span>
<span class="token keyword">if</span> n<span class="token operator">&gt;</span><span class="token number">0</span> <span class="token keyword">then</span><span class="token comment">--如果范围内生物数量大于0</span>
	<span class="token comment">--移除其中一个生物</span>
	World<span class="token punctuation">:</span><span class="token function">despawnCreature</span><span class="token punctuation">(</span>actors<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token comment">--在聊天框显示</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;移除了&quot;</span><span class="token operator">..</span>actors<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token comment">--如果范围内没有生物</span>
	<span class="token comment">--在聊天框显示</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;(0,7,0)至(50,57,50)范围内没有生物&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="spawnitem" tabindex="-1"><a class="header-anchor" href="#spawnitem" aria-hidden="true">#</a> spawnItem</h2><ul><li>参数及类型： <ul><li>x,y,z:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a></li><li>itemid:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a></li><li>num:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a></li></ul></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>objid:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a></li></ul></li><li>该方法的主要作用：在指定位置生成道具</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--在(0,0)高度7的位置生成3个土块</span>
<span class="token comment">--前三个参数0,7,0是生成坐标</span>
<span class="token comment">--第四个参数101是生成的物品id</span>
<span class="token comment">--最后一个参数3是生成的数量</span>
<span class="token keyword">local</span> result<span class="token punctuation">,</span>objid<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">spawnItem</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">101</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token comment">--在聊天框显示提示</span>
Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;在(0,0)高度7的位置生成了3个土块，它们在存档中的id是&quot;</span><span class="token operator">..</span>objid<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="despawnitembybox" tabindex="-1"><a class="header-anchor" href="#despawnitembybox" aria-hidden="true">#</a> despawnItemByBox</h2><ul><li>参数及类型： <ul><li>x1,y1,z1:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>起始位置</li><li>x2,y2,z2:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>最终位置</li></ul></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li></ul></li><li>该方法的主要作用：移除道具(通过区域)</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--移除指定区域内所有掉落物</span>
<span class="token comment">--前三个参数为区域起点坐标</span>
<span class="token comment">--后三个参数为区域终点坐标</span>
World<span class="token punctuation">:</span><span class="token function">despawnItemByBox</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span>
<span class="token comment">--在聊天框显示</span>
Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;移除了(-20,0,-20)至(20,50,20)区域内的所有掉落物&quot;</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="despawnitembyobjid" tabindex="-1"><a class="header-anchor" href="#despawnitembyobjid" aria-hidden="true">#</a> despawnItemByObjid</h2><ul><li>参数及类型： <ul><li>objid:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a></li></ul></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li></ul></li><li>该方法的主要作用：移除道具(通过ID)</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--每当有玩家做动画表情，移除房主周围10格内的某一掉落物</span>
<span class="token comment">--当玩家做动画表情时执行此函数</span>
<span class="token keyword">local</span> <span class="token keyword">function</span> <span class="token function">Player_PlayAction</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>
	<span class="token comment">--获取房主的坐标</span>
	<span class="token keyword">local</span> result<span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token operator">=</span>Player<span class="token punctuation">:</span><span class="token function">getPosition</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token comment">--获取房主周围10格内的掉落物数量和列表</span>
	<span class="token keyword">local</span> result2<span class="token punctuation">,</span>num<span class="token punctuation">,</span>list<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">getActorsByBox</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span>x<span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span>y<span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span>z<span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span>x<span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">,</span>y<span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">,</span>z<span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> num<span class="token operator">&gt;</span><span class="token number">0</span> <span class="token keyword">then</span><span class="token comment">--如果存在掉落物</span>
		<span class="token comment">--移除第一组物品</span>
		World<span class="token punctuation">:</span><span class="token function">despawnItemByObjid</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token comment">--在聊天框显示</span>
		Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;附近10格发现掉落物品，已移除了其中一组&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">else</span><span class="token comment">--如果不存在掉落物</span>
		<span class="token comment">--在聊天框显示</span>
		Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;附近10格没有发现掉落物品！&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">end</span>
<span class="token keyword">end</span>
<span class="token comment">--注册动画表情监听器，当玩家做动画表情时执行上面的函数</span>
ScriptSupportEvent<span class="token punctuation">:</span><span class="token function">registerEvent</span><span class="token punctuation">(</span><span class="token string">[=[Player.PlayAction]=]</span><span class="token punctuation">,</span>Player_PlayAction<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="spawnprojectile" tabindex="-1"><a class="header-anchor" href="#spawnprojectile" aria-hidden="true">#</a> spawnProjectile</h2><ul><li>参数及类型： <ul><li>shooter:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>设置投掷物归属的objid</li><li>itemid:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>投掷物id</li><li>x,y,z:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>投掷物起点</li><li>dstx,dsty,dstz:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>投掷物终点</li><li>speed:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>投掷物速度</li></ul></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>objid:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>投掷物的实例ID</li></ul></li><li>该方法的主要作用：生成投掷物</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> result <span class="token operator">=</span> World<span class="token punctuation">:</span><span class="token function">spawnProjectile</span><span class="token punctuation">(</span>shooter<span class="token punctuation">,</span> itemid<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">,</span> dstx<span class="token punctuation">,</span> dsty<span class="token punctuation">,</span> dstz<span class="token punctuation">,</span> speed<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="spawnprojectilebydir" tabindex="-1"><a class="header-anchor" href="#spawnprojectilebydir" aria-hidden="true">#</a> spawnProjectileByDir</h2><ul><li>参数及类型： <ul><li>shooter:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>设置投掷物归属的objid</li><li>itemid:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>投掷物id</li><li>x,y,z:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>投掷物起点</li><li>dstx,dsty,dstz:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>投掷物终点</li><li>speed:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>投掷物速度</li></ul></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>objid:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>投掷物的实例ID</li></ul></li><li>该方法的主要作用：生成投掷物(通过方向)</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> result <span class="token operator">=</span> World<span class="token punctuation">:</span><span class="token function">spawnProjectileByDir</span><span class="token punctuation">(</span>shooter<span class="token punctuation">,</span> itemid<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">,</span> dirx<span class="token punctuation">,</span> diry<span class="token punctuation">,</span> dirz<span class="token punctuation">,</span> speed<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="calcdistance" tabindex="-1"><a class="header-anchor" href="#calcdistance" aria-hidden="true">#</a> calcDistance</h2><ul><li>参数及类型： <ul><li>pos1:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>table</code></strong></a>起始位置{x,y,z}</li><li>pos2:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>table</code></strong></a>最终位置{x,y,z}</li></ul></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>distance:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a></li></ul></li><li>该方法的主要作用：计算位置之间的距离</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--计算两点间的直线距离</span>
<span class="token comment">--第一个参数是由起点坐标组成的表</span>
<span class="token comment">--第二个参数是由终点坐标组成的表</span>
<span class="token keyword">local</span> result<span class="token punctuation">,</span>distance<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">calcDistance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>y<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>z<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>x<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span>y<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span>z<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">--在聊天框显示</span>
Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;(0,0)高度0到(10,10)高度10的直线距离是&quot;</span><span class="token operator">..</span>distance<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="playparticaleffect" tabindex="-1"><a class="header-anchor" href="#playparticaleffect" aria-hidden="true">#</a> playParticalEffect</h2><ul><li>参数及类型： <ul><li>x,y,z:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>位置</li><li>particleId:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>特效id</li><li>scale:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>特效大小</li></ul></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li></ul></li><li>该方法的主要作用：在指定位置播放特效</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--在(0,0)高度7的位置播放烟雾特效</span>
<span class="token comment">--前三个参数是播放特效的位置坐标</span>
<span class="token comment">--第四个参数是播放特效的特效id，具体可以在“迷你世界ID查询”的“特效表数据”里查看</span>
<span class="token comment">--最后一个参数是特效的缩放比例</span>
World<span class="token punctuation">:</span><span class="token function">playParticalEffect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1001</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment">--在聊天框显示</span>
Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;在(0,0)高度7的位置生成了一个烟雾特效&quot;</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="stopeffectonposition" tabindex="-1"><a class="header-anchor" href="#stopeffectonposition" aria-hidden="true">#</a> stopEffectOnPosition</h2><ul><li>参数及类型： <ul><li>x,y,z:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>位置</li><li>particleId:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>特效id</li></ul></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li></ul></li><li>该方法的主要作用：停止指定位置的特效</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--停止指定位置的指定特效</span>
<span class="token comment">--前三个参数是停止播放特效的位置坐标</span>
<span class="token comment">--最后一个参数是需要停止的特效id</span>
World<span class="token punctuation">:</span><span class="token function">stopEffectOnPosition</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1001</span><span class="token punctuation">)</span>
<span class="token comment">--在聊天框显示</span>
Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;停止了(0,0)高度7位置的1001烟雾特效&quot;</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="seteffectscaleonposition" tabindex="-1"><a class="header-anchor" href="#seteffectscaleonposition" aria-hidden="true">#</a> setEffectScaleOnPosition</h2><ul><li>参数及类型： <ul><li>x,y,z:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>位置</li><li>particleId:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>特效id</li><li>scale:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>特效大小</li></ul></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li></ul></li><li>该方法的主要作用：设置指定位置的特效大小</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--缩放指定位置的指定特效</span>
<span class="token comment">--前三个参数是需要缩放特效的坐标</span>
<span class="token comment">--第四个参数是需要缩放的特效id</span>
<span class="token comment">--最后一个参数是设置的缩放比例</span>
World<span class="token punctuation">:</span><span class="token function">setEffectScaleOnPosition</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1001</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment">--在聊天框显示</span>
Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;把(0,0)高度7位置的烟雾特效放大了两倍&quot;</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="randomparticleeffectid" tabindex="-1"><a class="header-anchor" href="#randomparticleeffectid" aria-hidden="true">#</a> randomParticleEffectID</h2><ul><li>参数及类型：<code>none</code></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>result:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>特效id</li></ul></li><li>该方法的主要作用：随机特效类型，随机返回一种特效ID</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--获取一个随机特效id</span>
<span class="token keyword">local</span> result<span class="token punctuation">,</span>id<span class="token operator">=</span>World<span class="token punctuation">:</span><span class="token function">randomParticleEffectID</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">--在聊天框显示</span>
Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;获取到了一个随机特效id：&quot;</span><span class="token operator">..</span>id<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="playsoundeffectonpos" tabindex="-1"><a class="header-anchor" href="#playsoundeffectonpos" aria-hidden="true">#</a> playSoundEffectOnPos</h2><ul><li>参数及类型： <ul><li>pos:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>table</code></strong></a>{x,y,z}</li><li>soundId:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>音效ID</li><li>volume:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>音量调节</li><li>pitch:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>音调调节</li><li>isLoop:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>bool</code></strong></a>是否循环播放</li></ul></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li></ul></li><li>该方法的主要作用：在指定位置上播放指定音效</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--在(0,0)高度7的位置播放音乐10713</span>
<span class="token comment">--第一个参数为播放音乐的坐标组成的表</span>
<span class="token comment">--第二个参数10713为播放的音效id，具体可以在“迷你世界ID查询”的“音效表数据”里查看</span>
<span class="token comment">--后三个参数分别是：音量、音高、是否循环播放</span>
World<span class="token punctuation">:</span><span class="token function">playSoundEffectOnPos</span><span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>y<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span>z<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">10713</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">false</span><span class="token punctuation">)</span>
<span class="token comment">--在聊天框显示</span>
Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;(0,0)高度7的位置正在播放音乐&quot;</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="stopsoundeffectonpos" tabindex="-1"><a class="header-anchor" href="#stopsoundeffectonpos" aria-hidden="true">#</a> stopSoundEffectOnPos</h2><ul><li>参数及类型： <ul><li>pos:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>table</code></strong></a>{x,y,z}</li><li>soundId:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a></li></ul></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li></ul></li><li>该方法的主要作用：停止指定位置上的指定音效</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--在(0,0)高度7的位置播放音乐10713</span>
World<span class="token punctuation">:</span><span class="token function">playSoundEffectOnPos</span><span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>y<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span>z<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">10713</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">false</span><span class="token punctuation">)</span>
<span class="token comment">--在聊天框显示提示</span>
Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;(0,0)高度7的位置正在播放音乐，做动画表情即可停止播放&quot;</span><span class="token punctuation">)</span>
<span class="token comment">--当玩家做动画表情时执行此函数</span>
<span class="token keyword">local</span> <span class="token keyword">function</span> <span class="token function">Player_PlayAction</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>
	<span class="token comment">--停止(0,0)高度7位置音乐10713的播放</span>
	<span class="token comment">--第一个参数为要停止播放音乐的坐标组成的表</span>
	<span class="token comment">--第二个参数为要停止播放的音乐id，具体可以在“迷你世界ID查询”的“音效表数据”里查看</span>
	World<span class="token punctuation">:</span><span class="token function">stopSoundEffectOnPos</span><span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>y<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span>z<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">10713</span><span class="token punctuation">)</span>
	<span class="token comment">--在聊天框显示</span>
	Chat<span class="token punctuation">:</span><span class="token function">sendSystemMsg</span><span class="token punctuation">(</span><span class="token string">&quot;停止了(0,0)高度7音乐10713的播放&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
<span class="token comment">--注册一个动画表情监听器，事件发生时执行上面的函数</span>
ScriptSupportEvent<span class="token punctuation">:</span><span class="token function">registerEvent</span><span class="token punctuation">(</span><span class="token string">[=[Player.PlayAction]=]</span><span class="token punctuation">,</span>Player_PlayAction<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="getlightbypos" tabindex="-1"><a class="header-anchor" href="#getlightbypos" aria-hidden="true">#</a> getLightByPos</h2><ul><li>参数及类型： <ul><li>x,y,z:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>位置</li></ul></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>lightlv:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a></li></ul></li><li>该方法的主要作用：获取光照强度</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> result <span class="token operator">=</span> World<span class="token punctuation">:</span><span class="token function">getLightByPos</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="setblocklightex" tabindex="-1"><a class="header-anchor" href="#setblocklightex" aria-hidden="true">#</a> setBlockLightEx</h2><ul><li>参数及类型： <ul><li>x,y,z:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a>位置</li><li>lv:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a></li></ul></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li></ul></li><li>该方法的主要作用：设置光照强度</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> result <span class="token operator">=</span> World<span class="token punctuation">:</span><span class="token function">setBlockLightEx</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">,</span> lv<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="randomsoundid" tabindex="-1"><a class="header-anchor" href="#randomsoundid" aria-hidden="true">#</a> randomSoundID</h2><ul><li>参数及类型： <ul><li>无</li></ul></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>soundid:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a> 声音ID</li></ul></li><li>该方法的主要作用：随机出来的音乐ID</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> result<span class="token punctuation">,</span>soundid <span class="token operator">=</span> World<span class="token punctuation">:</span><span class="token function">randomSoundID</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="randomweatherid" tabindex="-1"><a class="header-anchor" href="#randomweatherid" aria-hidden="true">#</a> randomWeatherID</h2><ul><li>参数及类型： <ul><li>无</li></ul></li><li>返回值及类型： <ul><li><a href="/docs/API/global.html#%E9%94%99%E8%AF%AF%E7%A0%81%E4%BF%A1%E6%81%AF" class="">ErrorCode</a>.OK</li><li>wtype:<a href="/docs/API/global.html#Lua%E5%8E%9F%E7%94%9F%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" class=""><strong><code>number</code></strong></a> 天气类型ID</li></ul></li><li>该方法的主要作用：随机出来的天气ID</li><li>具体使用案例如下：</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> result<span class="token punctuation">,</span>wtype <span class="token operator">=</span> World<span class="token punctuation">:</span><span class="token function">randomWeatherID</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/minitoolbox/minitoolbox.github.io/edit/main/docs/docs/API/world.md" rel="noopener noreferrer" target="_blank" aria-label="在Github上编辑此页"><!--[--><!--]--> 在Github上编辑此页 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">上次更新: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 121608442+minitoolbox@users.noreply.github.com">minitoolbox</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app-753b6809.js" defer></script>
  </body>
</html>
